<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FOR SÉCURITÉ PRIVÉE (4SP) - Services de sécurité à Montpellier</title>
    
    <!-- Meta descriptions optimisées pour le référencement -->
    <meta name="description" content="FOR SÉCURITÉ PRIVÉE (4SP) - Société de sécurité à Montpellier proposant gardiennage, surveillance, sécurité événementielle et interventions. Plus de 50 agents diplômés CNAPS.">
    <meta name="keywords" content="sécurité, agent de sécurité, événements, surveillance, gardiennage, ronde, intervention, société de sécurité Montpellier Hérault, top société de sécurité, alarme, ronde d'intervention, caméras de surveillance">
    <meta name="author" content="FOR SÉCURITÉ PRIVÉE (4SP)">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="FOR SÉCURITÉ PRIVÉE (4SP) - Experts en sécurité à Montpellier">
    <meta property="og:description" content="Société de sécurité à Montpellier proposant des services de gardiennage, surveillance, sécurité événementielle avec des agents diplômés CNAPS.">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/e30613/ffffff?text=FOR+SÉCURITÉ+PRIVÉE">
    <meta property="og:url" content="https://www.for-securite-privee.fr">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Données structurées Schema.org pour améliorer le référencement -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SecurityService",
      "name": "FOR SÉCURITÉ PRIVÉE (4SP)",
      "description": "Société de sécurité à Montpellier proposant des services de gardiennage, surveillance, sécurité événementielle avec des agents diplômés CNAPS.",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "83 rue Yves Montand",
        "addressLocality": "Montpellier",
        "postalCode": "34080",
        "addressCountry": "FR"
      },
      "telephone": "+33660350197",
      "email": "contacte@4sp.fr",
      "areaServed": "Montpellier, Hérault, Occitanie",
      "serviceType": "gardiennage, surveillance, sécurité événementielle",
      "keywords": "sécurité, agent de sécurité, événements, surveillance, gardiennage, ronde, intervention, société de sécurité Montpellier Hérault, alarme, ronde d'intervention, caméras de surveillance"
    }
    </script>
    
    <script>
      // Force browser to always load updated files
      const version = Date.now(); // change automatically every update

      document.querySelectorAll("link[rel='stylesheet']").forEach(link => {
        link.href = link.href.split('?')[0] + '?v=' + version;
      });

      document.querySelectorAll("script[src]").forEach(script => {
        script.src = script.src.split('?')[0] + '?v=' + version;
      });

      document.querySelectorAll("img").forEach(img => {
        img.src = img.src.split('?')[0] + '?v=' + version;
      });
    </script>
    
    <style>
        :root {
            --primary: #e30613; /* Rouge */
            --secondary: #000000; /* Noir */
            --accent: #ffffff; /* Blanc */
            --dark: #2c2c2c; /* Noir plus clair */
            --light: #f5f5f5; /* Gris très clair */
            --text: #333333; /* Texte foncé */
            --container-padding: clamp(1rem, 4vw, 2rem);
            --section-padding: clamp(3rem, 8vw, 6rem);
            --heading-size: clamp(1.8rem, 5vw, 2.8rem);
            --text-size: clamp(1rem, 2.5vw, 1.2rem);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            background-color: var(--light);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            font-size: var(--text-size);
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--dark) 100%);
            color: var(--accent);
            padding: 1rem var(--container-padding);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
        }
        
        .logo {
            width: clamp(80px, 12vw, 120px);
            height: clamp(80px, 12vw, 120px);
            background: var(--accent);
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: clamp(0.5rem, 2vw, 1rem);
            border: 3px solid var(--primary);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            transition: transform 0.3s;
            flex-shrink: 0;
        }
        
        .logo:hover {
            transform: scale(1.05);
        }
        
        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 5px;
        }
        
        .company-name {
            font-size: clamp(1.2rem, 4vw, 1.8rem);
            font-weight: 800;
            letter-spacing: 0.5px;
            color: var(--accent);
            line-height: 1.2;
        }
        
        .company-slogan {
            font-size: clamp(0.8rem, 2vw, 1rem);
            opacity: 0.9;
            font-weight: 300;
            color: var(--accent);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            flex-wrap: wrap;
            justify-content: flex-end;
        }
        
        nav ul li {
            margin-left: clamp(0.5rem, 1.5vw, 1.25rem);
        }
        
        nav ul li a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            padding: clamp(0.5rem, 1.5vw, 0.75rem) clamp(0.75rem, 2vw, 1rem);
            border-radius: 4px;
            font-size: clamp(0.9rem, 2.5vw, 1.1rem);
            white-space: nowrap;
        }
        
        nav ul li a:hover {
            background-color: var(--primary);
            transform: translateY(-2px);
        }
        
        /* Menu mobile */
        .mobile-menu-toggle {
            display: none;
            background: transparent;
            border: none;
            color: var(--accent);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1589652717521-10c0d092dea9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;
            min-height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: var(--accent);
            position: relative;
            padding: 0 var(--container-padding);
        }
        
        .hero-content {
            max-width: min(900px, 90vw);
            animation: fadeIn 1.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .hero h1 {
            font-size: clamp(2rem, 7vw, 3.5rem);
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            font-weight: 800;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: clamp(1.2rem, 4vw, 1.8rem);
            margin-bottom: 2.5rem;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            font-weight: 300;
        }
        
        .btn {
            display: inline-block;
            background: var(--primary);
            color: var(--accent);
            padding: clamp(0.75rem, 2.5vw, 1rem) clamp(1.5rem, 5vw, 2.5rem);
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(227, 6, 19, 0.3);
            border: none;
            cursor: pointer;
            font-size: clamp(0.9rem, 2.5vw, 1.1rem);
            letter-spacing: 1px;
            text-transform: uppercase;
            white-space: nowrap;
        }
        
        .btn:hover {
            background: #b80510;
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(227, 6, 19, 0.4);
        }
        
        .btn i {
            margin-left: 8px;
        }
        
        /* Commercial Presentation */
        .commercial-presentation {
            padding: var(--section-padding) var(--container-padding);
            text-align: center;
            background: var(--accent);
        }
        
        .commercial-content {
            max-width: min(1000px, 90vw);
            margin: 0 auto;
        }
        
        .commercial-content h2 {
            font-size: var(--heading-size);
            color: var(--secondary);
            margin-bottom: 2rem;
            font-weight: 700;
        }
        
        .commercial-content p {
            font-size: clamp(1rem, 3vw, 1.3rem);
            margin-bottom: 2rem;
            color: var(--text);
            line-height: 1.8;
        }
        
        .highlight {
            color: var(--primary);
            font-weight: 700;
        }
        
        /* Services Section */
        .services {
            padding: var(--section-padding) var(--container-padding);
            text-align: center;
            background: var(--light);
        }
        
        .section-title {
            font-size: var(--heading-size);
            margin-bottom: 3rem;
            color: var(--secondary);
            position: relative;
            display: inline-block;
            font-weight: 700;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background: var(--primary);
            border-radius: 3px;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(350px, 100%), 1fr));
            gap: clamp(1.5rem, 4vw, 3rem);
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .service-card {
            background: var(--accent);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--primary);
            transition: width 0.4s ease;
            z-index: 1;
        }
        
        .service-card:hover {
            transform: translateY(-15px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .service-card:hover::before {
            width: 100%;
            opacity: 0.05;
        }
        
        .service-image {
            height: clamp(200px, 40vw, 250px);
            overflow: hidden;
        }
        
        .service-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.7s;
        }
        
        .service-card:hover .service-image img {
            transform: scale(1.1);
        }
        
        .service-content {
            padding: clamp(1.5rem, 4vw, 2.5rem);
        }
        
        .service-icon {
            font-size: clamp(2.5rem, 7vw, 3.5rem);
            color: var(--secondary);
            margin-bottom: 1.5rem;
            transition: all 0.3s;
        }
        
        .service-card:hover .service-icon {
            color: var(--primary);
            transform: scale(1.2);
        }
        
        .service-card h3 {
            font-size: clamp(1.4rem, 4vw, 1.8rem);
            margin-bottom: 1.2rem;
            color: var(--secondary);
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .service-card:hover h3 {
            color: var(--primary);
        }
        
        .service-card p {
            margin-bottom: 1.5rem;
            color: #666;
            line-height: 1.7;
        }
        
        .service-features {
            list-style: none;
            text-align: left;
            margin-top: 1.5rem;
        }
        
        .service-features li {
            margin-bottom: 0.8rem;
            padding-left: 1.8rem;
            position: relative;
            color: #555;
        }
        
        .service-features li:before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
        }
        
        /* Service Detail Pages */
        .service-detail {
            display: none;
            padding: var(--section-padding) var(--container-padding);
            background: var(--accent);
        }
        
        .service-detail.active {
            display: block;
        }
        
        .service-hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7));
            padding: clamp(2rem, 6vw, 4rem) var(--container-padding);
            text-align: center;
            color: var(--accent);
            border-radius: 15px;
            margin-bottom: 3rem;
        }
        
        .service-detail-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .service-detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
            gap: clamp(1.5rem, 4vw, 3rem);
            align-items: center;
        }
        
        .service-benefits {
            background: var(--light);
            padding: clamp(1.5rem, 4vw, 2.5rem);
            border-radius: 15px;
        }
        
        .benefits-list {
            list-style: none;
        }
        
        .benefits-list li {
            margin-bottom: 1rem;
            padding-left: 2rem;
            position: relative;
        }
        
        .benefits-list li:before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .service-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(200px, 100%), 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }
        
        .gallery-item {
            border-radius: 10px;
            overflow: hidden;
            height: clamp(150px, 30vw, 200px);
        }
        
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .gallery-item:hover img {
            transform: scale(1.1);
        }
        
        /* About Section */
        .about {
            padding: var(--section-padding) var(--container-padding);
            background: var(--light);
        }
        
        .about-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
            gap: clamp(2rem, 5vw, 4rem);
            align-items: center;
        }
        
        .about-text h2 {
            font-size: var(--heading-size);
            color: var(--secondary);
            margin-bottom: 2rem;
            font-weight: 700;
        }
        
        .about-text p {
            margin-bottom: 1.8rem;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            line-height: 1.8;
            color: var(--text);
        }
        
        .values-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(200px, 100%), 1fr));
            gap: clamp(1rem, 3vw, 2rem);
            margin-top: 3rem;
            z-index: 2;
            position: relative;
        }
        
        .value-item {
            background: var(--accent);
            padding: clamp(1.5rem, 3vw, 2rem);
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .value-item:hover {
            transform: translateY(-5px);
        }
        
        .value-item i {
            font-size: clamp(2rem, 5vw, 2.5rem);
            color: var(--primary);
            margin-bottom: 1.2rem;
        }
        
        .value-item h4 {
            font-size: clamp(1.2rem, 3vw, 1.4rem);
            color: var(--secondary);
            margin-bottom: 0.8rem;
            font-weight: 600;
        }
        
        .value-item p {
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            color: #666;
        }
        
        .about-image {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            transition: transform 0.5s;
        }
        
        .about-image:hover {
            transform: scale(1.03);
        }
        
        .about-image img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        /* Contact Section */
        .contact {
            padding: var(--section-padding) var(--container-padding);
            background: linear-gradient(to right, var(--secondary), var(--dark));
            color: var(--accent);
        }
        
        .contact-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
            gap: clamp(2rem, 5vw, 4rem);
        }
        
        .contact-info h2 {
            font-size: var(--heading-size);
            margin-bottom: 2rem;
            font-weight: 700;
        }
        
        .contact-info p {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            margin-bottom: 2.5rem;
            line-height: 1.8;
            opacity: 0.9;
        }
        
        .contact-details {
            list-style: none;
            margin-top: 2rem;
        }
        
        .contact-details li {
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
        }
        
        .contact-details i {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            color: var(--primary);
            margin-right: 1rem;
            width: 30px;
        }
        
        .contact-form {
            background: var(--accent);
            padding: clamp(1.5rem, 4vw, 3rem);
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }
        
        .contact-form h3 {
            color: var(--secondary);
            font-size: clamp(1.4rem, 4vw, 1.8rem);
            margin-bottom: 2rem;
            text-align: center;
            font-weight: 600;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--dark);
            font-weight: 500;
        }
        
        .form-group input, 
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border 0.3s;
        }
        
        .form-group input:focus, 
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .map-container {
            margin-top: 5rem;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }
        
        .map-container iframe {
            width: 100%;
            height: 400px;
            border: none;
        }
        
        /* Footer */
        footer {
            background: var(--secondary);
            color: var(--accent);
            padding: clamp(2rem, 5vw, 4rem) var(--container-padding) clamp(1rem, 3vw, 2rem);
            text-align: center;
            position: relative;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(250px, 100%), 1fr));
            gap: clamp(1.5rem, 4vw, 3rem);
            margin-bottom: 3rem;
        }
        
        .footer-section h3 {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
            font-weight: 600;
        }
        
        .footer-section h3::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 40px;
            height: 3px;
            background: var(--primary);
        }
        
        .footer-section p, .footer-section li {
            margin-bottom: 0.8rem;
            opacity: 0.8;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-section a:hover {
            color: var(--primary);
        }
        
        .footer-section i {
            width: 30px;
            color: var(--primary);
        }
        
        .social-icons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            justify-content: center;
        }
        
        .social-icons a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: clamp(35px, 8vw, 45px);
            height: clamp(35px, 8vw, 45px);
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: all 0.3s;
        }
        
        .social-icons a:hover {
            background: var(--primary);
            transform: translateY(-5px);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            opacity: 0.7;
        }
        
        .legal-mentions {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: left;
            font-size: 0.8rem;
            opacity: 0.7;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }
        
        .legal-mentions.expanded {
            max-height: 1000px;
        }
        
        .legal-toggle {
            background: transparent;
            border: none;
            color: var(--accent);
            cursor: pointer;
            font-size: 0.8rem;
            margin-top: 1rem;
            opacity: 0.7;
            text-decoration: underline;
        }
        
        .legal-toggle:hover {
            opacity: 1;
        }
        
        .legal-mentions h4 {
            font-size: 1rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }
        
        .admin-access {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .admin-toggle {
            background: var(--primary);
            color: var(--accent);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            font-size: 24px;
            transition: all 0.3s;
        }
        
        .admin-toggle:hover {
            transform: scale(1.1);
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            overflow-y: auto;
        }
        
        .admin-content {
            background: white;
            margin: 50px auto;
            padding: 30px;
            border-radius: 10px;
            max-width: min(900px, 90vw);
            position: relative;
        }
        
        .close-admin {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #ff6b6b;
        }
        
        .admin-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #ddd;
            flex-wrap: wrap;
        }
        
        .admin-tab {
            padding: 10px 20px;
            cursor: pointer;
            margin-right: 5px;
            border-radius: 5px 5px 0 0;
            background: #f5f5f5;
        }
        
        .admin-tab.active {
            background: var(--primary);
            color: white;
        }
        
        .admin-section {
            display: none;
        }
        
        .admin-section.active {
            display: block;
        }
        
        .admin-form-group {
            margin-bottom: 20px;
        }
        
        .admin-form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--dark);
        }
        
        .admin-form-group input, 
        .admin-form-group textarea, 
        .admin-form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .admin-form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .admin-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            transition: all 0.3s;
        }
        
        .admin-btn:hover {
            background: #b80510;
            transform: translateY(-2px);
        }
        
        .admin-btn-secondary {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            transition: all 0.3s;
        }
        
        .admin-btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }
        
        .admin-btn-danger {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            transition: all 0.3s;
        }
        
        .admin-btn-danger:hover {
            background: #c82333;
            transform: translateY(-2px);
        }
        
        .login-panel {
            text-align: center;
            padding: 30px;
            position: relative;
            z-index: 2;
        }
        
        .password-input {
            margin: 20px 0;
            padding: 12px;
            width: 100%;
            max-width: 300px;
            border: 2px solid var(--primary);
            border-radius: 5px;
            font-size: 16px;
        }
        
        .report-item {
            background: #f9f9f9;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            border-left: 4px solid var(--primary);
        }
        
        .image-preview {
            max-width: 200px;
            max-height: 150px;
            margin-top: 10px;
            border: 1px dashed #ddd;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .image-preview img {
            max-width: 100%;
            max-height: 100%;
        }
        
        /* Nouvel onglet SEO */
        .seo-status {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary);
        }
        
        .seo-score {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .score-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            margin-right: 15px;
        }
        
        .keyword-list {
            list-style: none;
            margin-top: 15px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .keyword-list li {
            margin-bottom: 8px;
            padding: 8px;
            background: #f0f0f0;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
        }
        
        .keyword-position {
            font-weight: bold;
            color: var(--primary);
        }
        
        /* Gestion des images des services */
        .service-images-management {
            margin-top: 20px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 5px;
        }
        
        .service-images-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(150px, 100%), 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .service-image-item {
            position: relative;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            background: white;
        }
        
        .service-image-preview {
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            overflow: hidden;
        }
        
        .service-image-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .service-image-actions {
            display: flex;
            justify-content: space-between;
        }
        
        .image-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #999;
            font-style: italic;
        }
        
        /* Nouvelle section Rapports d'Activité */
        .activity-reports {
            padding: var(--section-padding) var(--container-padding);
            background: var(--accent);
        }
        
        .reports-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .reports-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(min(300px, 100%), 1fr));
            gap: clamp(1rem, 3vw, 2rem);
            margin-top: 3rem;
        }
        
        .report-card {
            background: var(--light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .report-card:hover {
            transform: translateY(-5px);
        }
        
        .report-image {
            height: clamp(150px, 30vw, 200px);
            overflow: hidden;
        }
        
        .report-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .report-content {
            padding: clamp(1rem, 3vw, 1.5rem);
        }
        
        .report-date {
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .report-title {
            font-size: clamp(1.2rem, 3vw, 1.4rem);
            margin-bottom: 1rem;
            color: var(--secondary);
        }
        
        .report-excerpt {
            color: #666;
            margin-bottom: 1rem;
        }
        
        .read-more {
            color: var(--primary);
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
        }
        
        .read-more i {
            margin-left: 5px;
            transition: transform 0.3s;
        }
        
        .read-more:hover i {
            transform: translateX(5px);
        }
        
        /* Modal pour les rapports */
        .report-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10001;
            overflow-y: auto;
            padding: var(--container-padding);
        }
        
        .modal-content {
            background: white;
            max-width: min(800px, 90vw);
            margin: 2rem auto;
            padding: clamp(1rem, 4vw, 2rem);
            border-radius: 12px;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #ff6b6b;
        }
        
        .modal-image {
            width: 100%;
            height: clamp(200px, 40vw, 300px);
            overflow: hidden;
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }
        
        .modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .modal-date {
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .modal-title {
            font-size: clamp(1.5rem, 5vw, 2rem);
            margin-bottom: 1rem;
            color: var(--secondary);
        }
        
        .modal-body {
            line-height: 1.8;
            color: #333;
        }
        
        /* Responsive Design amélioré */
        @media (max-width: 1200px) {
            .logo {
                width: clamp(80px, 10vw, 100px);
                height: clamp(80px, 10vw, 100px);
            }
        }
        
        @media (max-width: 992px) {
            .hero h1 {
                font-size: clamp(1.8rem, 6vw, 2.8rem);
            }
            
            .hero p {
                font-size: clamp(1rem, 3.5vw, 1.5rem);
            }
            
            .about-content,
            .contact-container,
            .service-detail-grid {
                grid-template-columns: 1fr;
                gap: clamp(1.5rem, 4vw, 3rem);
            }
            
            .contact-form {
                order: -1;
            }
            
            .service-gallery {
                grid-template-columns: repeat(auto-fit, minmax(min(150px, 100%), 1fr));
            }
            
            .service-images-grid {
                grid-template-columns: repeat(auto-fit, minmax(min(120px, 100%), 1fr));
            }
        }
        
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                text-align: center;
                padding: 1rem;
            }
            
            .logo-container {
                margin-bottom: 1rem;
                flex-direction: column;
                text-align: center;
            }
            
            .logo {
                width: clamp(70px, 15vw, 100px);
                height: clamp(70px, 15vw, 100px);
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            nav {
                width: 100%;
                margin-top: 1rem;
            }
            
            nav ul {
                justify-content: center;
                flex-wrap: wrap;
                margin-top: 0;
            }
            
            nav ul li {
                margin: 0.25rem;
            }
            
            .hero {
                height: auto;
                padding: clamp(4rem, 10vw, 6rem) 1rem;
            }
            
            .hero h1 {
                font-size: clamp(1.5rem, 5vw, 2.2rem);
            }
            
            .hero p {
                font-size: clamp(0.9rem, 3vw, 1.2rem);
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .values-grid {
                grid-template-columns: repeat(auto-fit, minmax(min(150px, 100%), 1fr));
            }
            
            .section-title {
                font-size: clamp(1.8rem, 5vw, 2.2rem);
            }
            
            .commercial-content h2,
            .about-text h2,
            .contact-info h2 {
                font-size: clamp(1.8rem, 5vw, 2.2rem);
            }
            
            .admin-tabs {
                flex-direction: column;
            }
            
            .admin-tab {
                margin-bottom: 5px;
                border-radius: 5px;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .footer-section h3::after {
                left: 50%;
                transform: translateX(-50%);
            }
            
            /* Menu mobile */
            .mobile-menu-toggle {
                display: block;
            }
            
            nav ul {
                display: none;
                flex-direction: column;
                width: 100%;
                background: var(--secondary);
                position: absolute;
                top: 100%;
                left: 0;
                padding: 1rem;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }
            
            nav ul.show {
                display: flex;
            }
            
            nav ul li {
                margin: 0.5rem 0;
                width: 100%;
            }
            
            nav ul li a {
                display: block;
                padding: 0.75rem;
                text-align: center;
            }
        }
        
        @media (max-width: 576px) {
            .logo {
                width: clamp(60px, 12vw, 80px);
                height: clamp(60px, 12vw, 80px);
            }
            
            .company-name {
                font-size: clamp(1rem, 4vw, 1.5rem);
            }
            
            .company-slogan {
                font-size: clamp(0.7rem, 2.5vw, 0.9rem);
            }
            
            nav ul li a {
                font-size: clamp(0.8rem, 2.5vw, 0.9rem);
                padding: 0.5rem 0.75rem;
            }
            
            .hero h1 {
                font-size: clamp(1.3rem, 4.5vw, 1.8rem);
            }
            
            .hero p {
                font-size: clamp(0.8rem, 2.5vw, 1rem);
            }
            
            .btn {
                padding: 0.75rem 1.5rem;
                font-size: clamp(0.8rem, 2.5vw, 1rem);
            }
            
            .service-content {
                padding: 1.5rem 1rem;
            }
            
            .contact-form {
                padding: 1.5rem;
            }
            
            .admin-content {
                padding: 20px;
                margin: 20px auto;
            }
        }
        
        @media (max-width: 400px) {
            :root {
                --container-padding: 0.75rem;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .service-card {
                margin: 0 0.5rem;
            }
            
            .values-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
        }

        /* Animation utilities */
        .fade-in {
            animation: fadeIn 1s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Styles pour les messages de formulaire */
        .form-message {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            display: none;
        }
        
        .form-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .form-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .form-loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Styles pour l'administration améliorée */
        .admin-section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .admin-section-title {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            color: var(--secondary);
        }
        
        .admin-help-text {
            font-size: 0.9rem;
            color: #666;
            margin-top: -10px;
            margin-bottom: 15px;
        }
        
        .color-preview {
            width: 30px;
            height: 30px;
            border-radius: 4px;
            display: inline-block;
            margin-left: 10px;
            vertical-align: middle;
            border: 1px solid #ddd;
        }
        
        .footer-editor textarea {
            min-height: 100px;
        }
        
        .contact-info-editor textarea {
            min-height: 120px;
        }
        
        .header-editor textarea {
            min-height: 80px;
        }
        
        /* Styles pour la synchronisation */
        .sync-status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        .sync-online {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .sync-offline {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .sync-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        /* Améliorations pour les très petits écrans */
        @media (max-width: 320px) {
            .logo {
                width: 50px;
                height: 50px;
            }
            
            .company-name {
                font-size: 1rem;
            }
            
            .company-slogan {
                font-size: 0.7rem;
            }
            
            .hero h1 {
                font-size: 1.2rem;
            }
            
            .hero p {
                font-size: 0.8rem;
            }
            
            .btn {
                padding: 0.5rem 1rem;
                font-size: 0.8rem;
            }
        }
        
        /* Améliorations pour les très grands écrans */
        @media (min-width: 1600px) {
            .services-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .values-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .reports-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        /* Améliorations pour l'accessibilité */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Améliorations pour le mode sombre */
        @media (prefers-color-scheme: dark) {
            :root {
                --light: #1a1a1a;
                --text: #e0e0e0;
                --accent: #2c2c2c;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo-container">
            <div class="logo">
                <img src="https://via.placeholder.com/150x150/e30613/ffffff?text=4SP" alt="FOR SÉCURITÉ PRIVÉE (4SP) - Société de sécurité à Montpellier" id="logo-image">
            </div>
            <div>
                <div class="company-name" id="header-company-name">FOR SÉCURITÉ PRIVÉE (4SP)</div>
                <div class="company-slogan" id="header-company-slogan">Votre sécurité est notre priorité depuis 2024</div>
            </div>
        </div>
        <button class="mobile-menu-toggle" id="mobileMenuToggle">
            <i class="fas fa-bars"></i>
        </button>
        <nav>
            <ul id="mainNav">
                <li><a href="#" onclick="showSection('home')">Accueil</a></li>
                <li><a href="#services" onclick="showSection('services')">Services</a></li>
                <li><a href="#about" onclick="showSection('about')">À propos</a></li>
                <li><a href="#contact" onclick="showSection('contact')">Contact</a></li>
                <li><a href="#reports" onclick="showSection('reports')">Rapports</a></li>
            </ul>
        </nav>
    </header>
    
    <!-- Home Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1 id="hero-main-title">Experts en Sécurité à Montpellier</h1>
            <p id="hero-subtitle">Plus de 50 agents dédiés à votre protection 24h/24 et 7j/7</p>
            <a href="#contact" class="btn" onclick="showSection('contact')">Demander un devis gratuit <i class="fas fa-arrow-right"></i></a>
        </div>
    </section>
    
    <!-- Commercial Presentation -->
    <section class="commercial-presentation">
        <div class="commercial-content">
            <h2 id="commercial-title">Votre partenaire de confiance en sécurité privée</h2>
            <p id="commercial-text">Chez <span class="highlight">FOR SÉCURITÉ PRIVÉE (4SP)</span>, nous mettons à votre disposition des solutions de sécurité sur mesure, adaptées à vos besoins spécifiques. Notre équipe de plus de <span class="highlight">50 agents expérimentés</span> vous garantît une protection optimale de vos biens et personnes.</p>
            <p id="commercial-text-2">Forte de son expertise et de son professionnalisme, notre société créée à Montpellier en 2024 s'engage à vous offrir des services de qualité avec réactivité et efficacité.</p>
        </div>
    </section>
    
    <!-- Services Section -->
    <section id="services" class="services">
        <h2 class="section-title">Nos Services</h2>
        <div class="services-grid">
            <div class="service-card" onclick="showService('gardiennage')">
                <div class="service-image">
                    <img src="https://images.unsplash.com/photo-1589652717521-10c0d092dea9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Service de gardiennage et surveillance par FOR SÉCURITÉ PRIVÉE" id="service1-main-image">
                </div>
                <div class="service-content">
                    <div class="service-icon"><i class="fas fa-user-shield"></i></div>
                    <h3 id="service1-title">Gardiennage & Surveillance Humaine</h3>
                    <p id="service1-desc">Protection optimale pour vos biens et personnes avec nos agents de sécurité diplômés CNAPS.</p>
                    <ul class="service-features" id="service1-features">
                        <li>Agents de sécurité diplômés CNAPS</li>
                        <li>Surveillance continue 24h/24 et 7j/7</li>
                        <li>Contrôle d'accès strict</li>
                        <li>Rapports d'activité détaillés</li>
                    </ul>
                    <a href="#" class="btn" onclick="showService('gardiennage')">En savoir plus</a>
                </div>
            </div>
            
            <div class="service-card" onclick="showService('rondes')">
                <div class="service-image">
                    <img src="https://images.unsplash.com/photo-1593105544552-5f75f5d0d54a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Service de rondes et interventions de sécurité" id="service2-main-image">
                </div>
                <div class="service-content">
                    <div class="service-icon"><i class="fas fa-walking"></i></div>
                    <h3 id="service2-title">Rondes & Interventions</h3>
                    <p id="service2-desc">Surveillance proactive et interventions rapides sur site pour prévenir tout incident.</p>
                    <ul class="service-features" id="service2-features">
                        <li>Rondes régulières selon un planning défini</li>
                        <li>Intervention rapide 24/7</li>
                        <li>Contrôles aléatoires</li>
                        <li>Technologies de pointe</li>
                    </ul>
                    <a href="#" class="btn" onclick="showService('rondes')">En savoir plus</a>
                </div>
            </div>
            
            <div class="service-card" onclick="showService('evenementiel')">
                <div class="service-image">
                    <img src="https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Sécurité événementielle à Montpellier" id="service3-main-image">
                </div>
                <div class="service-content">
                    <div class="service-icon"><i class="fas fa-calendar-alt"></i></div>
                    <h3 id="service3-title">Sécurité Événementielle</h3>
                    <p id="service3-desc">Gestion complète de la sécurité pour tous types d'événements, publics ou privés.</p>
                    <ul class="service-features" id="service3-features">
                        <li>Gestion des flux et fouilles</li>
                        <li>Contrôle d'accès événementiel</li>
                        <li>Protection rapprochée VIP</li>
                        <li>Poste de commandement mobile</li>
                    </ul>
                    <a href="#" class="btn" onclick="showService('evenementiel')">En savoir plus</a>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Service Detail: Gardiennage -->
    <section id="gardiennage" class="service-detail">
        <div class="service-detail-content">
            <div class="service-hero" style="background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1589652717521-10c0d092dea9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;">
                <h2>Gardiennage & Surveillance Humaine</h2>
                <p>Service professionnel de surveillance et protection de vos biens</p>
            </div>
            
            <div class="service-detail-grid">
                <div>
                    <h3>Notre expertise à votre service</h3>
                    <p>Notre service de gardiennage et surveillance humaine offre une protection optimale pour vos biens et personnes. Nos agents, spécialement formés et habilités, assurent une présence dissuasive et réactive.</p>
                    
                    <h4>Prestations incluses :</h4>
                    <ul class="benefits-list" id="service1-detail-features">
                        <li>Agents de sécurité diplômés CNAPS</li>
                        <li>Surveillance continue 24h/24 et 7j/7</li>
                        <li>Contrôle d'accès strict et gestion des entrées/sorties</li>
                        <li>Rondes de sécurité programmées</li>
                        <li>Rapports d'activité détaillés quotidiens</li>
                        <li>Intervention rapide en case d'incident</li>
                        <li>Vidéosurveillance complémentaire</li>
                        <li>Gestion des alarmes et alertes</li>
                    </ul>
                </div>
                
                <div class="service-benefits">
                    <h4>Avantages</h4>
                    <ul class="benefits-list">
                        <li>Réduction des risques d'intrusion et de vol</li>
                        <li>Intervention rapide en cas d'incident</li>
                        <li>Rapports détaillés pour une traçabilité complète</li>
                        <li>Personnel formé et expérimenté</li>
                        <li>Adaptation à vos besoins spécifiques</li>
                    </ul>
                    
                    <a href="#contact" class="btn" onclick="showSection('contact')">Demander un devis</a>
                </div>
            </div>
            
            <div class="service-gallery" id="service1-gallery">
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1590065480004-6f5f471f2c0c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Agent de sécurité en poste">
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1589652717521-10c0d092dea9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Surveillance de site">
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1593105544552-5f75f5d0d54a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Contrôle d'accès sécurisé">
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1590688219069-ec2eac74718a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Rapport d'activité détaillé">
                </div>
            </div>
        </div>
    </section>
    
    <!-- Service Detail: Rondes -->
    <section id="rondes" class="service-detail">
        <div class="service-detail-content">
            <div class="service-hero" style="background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1593105544552-5f75f5d0d54a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;">
                <h2>Rondes & Interventions</h2>
                <p>Surveillance proactive et interventions rapides sur site</p>
            </div>
            
            <div class="service-detail-grid">
                <div>
                    <h3>Surveillance proactive</h3>
                    <p>Notre service de rondes et interventions offre une surveillance proactive de vos sites, permettant de prévenir les incidents et d'intervenir rapidement en cas de besoin.</p>
                    
                    <h4>Prestations incluses :</h4>
                    <ul class="benefits-list" id="service2-detail-features">
                        <li>Rondes régulières selon un planning défini</li>
                        <li>Contrôles aléatoires pour une sécurité optimale</li>
                        <li>Utilisation de technologies de pointe (badgeage, QR codes)</li>
                        <li>Intervention rapide en cas d'alarme ou d'incident</li>
                        <li>Vérification des accès et intégrité des locaux</li>
                        <li>Rapports détaillés avec photos à l'appui</li>
                        <li>Surveillance de sites isolés ou peu fréquentés</li>
                        <li>Coordination avec les forces de l'ordre si nécessaire</li>
                    </ul>
                </div>
                
                <div class="service-benefits">
                    <h4>Avantages</h4>
                    <ul class="benefits-list">
                        <li>Prévention des intrusions et actes de malveillance</li>
                        <li>Intervention rapide 24h/24 et 7j/7</li>
                        <li>Rapports détaillés avec preuves photographiques</li>
                        <li>Technologies modernes pour une efficacité maximale</li>
                        <li>Adaptation aux spécificités de chaque site</li>
                    </ul>
                    
                    <a href="#contact" class="btn" onclick="showSection('contact')">Demander un devis</a>
                </div>
            </div>
            
            <div class="service-gallery" id="service2-gallery">
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1593105544552-5f75f5d0d54a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Ronde de sécurité nocturne">
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1589652717521-10c0d092dea9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Agent en intervention rapide">
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1590065480004-6f5f471f2c0c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Contrôle de site sécurisé">
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1590688219069-ec2eac74718a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Rapport d'intervention détaillé">
                </div>
            </div>
        </div>
    </section>
    
    <!-- Service Detail: Événementiel -->
    <section id="evenementiel" class="service-detail">
        <div class="service-detail-content">
            <div class="service-hero" style="background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;">
                <h2>Sécurité Événementielle</h2>
                <p>Gestion complète de la sécurité pour tous types d'événements</p>
            </div>
            
            <div class="service-detail-grid">
                <div>
                    <h3>Sécurité sur mesure pour vos événements</h3>
                    <p>Notre service de sécurité événementielle assure la protection des participants, du personnel et des biens lors de tous types d'événements, qu'ils soient publics ou privés.</p>
                    
                    <h4>Prestations incluses :</h4>
                    <ul class="benefits-list" id="service3-detail-features">
                        <li>Évaluation des risques et plan de sécurité sur mesure</li>
                        <li>Gestion des flux et fouilles de sécurité</li>
                        <li>Contrôle d'accès et gestion des entrées/sorties</li>
                        <li>Surveillance statique et dynamique de l'événement</li>
                        <li>Gestion des incidents et coordination avec les secours</li>
                        <li>Protection rapprochée pour personnalités</li>
                        <li>Supervision via poste de commandement mobile</li>
                        <li>Bilans et rapports post-événement</li>
                    </ul>
                </div>
                
                <div class="service-benefits">
                    <h4>Avantages</h4>
                    <ul class="benefits-list">
                        <li>Adaptation à tout type d'événement</li>
                        <li>Gestion professionnelle des foules</li>
                        <li>Protection des personnalités et invités VIP</li>
                        <li>Coordination avec les services de secours</li>
                        <li>Post-analyse et retours d'expérience</li>
                    </ul>
                    
                    <a href="#contact" class="btn" onclick="showSection('contact')">Demander un devis</a>
                </div>
            </div>
            
            <div class="service-gallery" id="service3-gallery">
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Sécurité pour concert et événements">
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Contrôle d'accès événementiel">
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Surveillance de foule">
                </div>
                <div class="gallery-item">
                    <img src="https://images.unsplash.com/photo-1540039155733-5bb30b53aa14?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Équipe sécurité événementielle">
                </div>
            </div>
        </div>
    </section>
    
    <!-- Rapports d'Activité Section -->
    <section id="reports" class="activity-reports">
        <h2 class="section-title">Rapports d'Activité</h2>
        <div class="reports-container">
            <p id="reports-description">Découvrez nos rapports d'activité réguliers pour suivre notre actualité et nos interventions.</p>
            
            <div class="reports-grid" id="reports-grid">
                <!-- Les rapports seront chargés dynamiquement ici -->
            </div>
        </div>
    </section>
    
    <!-- About Section -->
    <section id="about" class="about">
        <div class="about-content">
            <div class="about-text">
                <h2 id="about-title">À propos de FOR SÉCURITÉ PRIVÉE (4SP)</h2>
                <p id="about-text-1">Forte de plus de 50 agents expérimentés, FOR SÉCURITÉ PRIVÉE (4SP) est la référence en matière de sécurité dans la région de Montpellier. Notre société a été créée en 2024 avec l'ambition de redéfinir les standards de qualité dans le domaine de la sécurité privée.</p>
                <p id="about-text-2">Nous utilisons uniquement des équipements de haute technologie, régulièrement mis à jour pour faire face aux nouvelles menaces. Notre centre de surveillance opérationnel 24h/24 et 7j/7 garantit une intervention rapide en cas d'incident.</p>
                
                <h3 id="about-values-title">Nos valeurs</h3>
                <div class="values-grid">
                    <div class="value-item">
                        <i class="fas fa-shield-alt"></i>
                        <h4 id="value-title-1">Expertise</h4>
                        <p id="value-desc-1">Des agents formés et certifiés</p>
                    </div>
                    <div class="value-item">
                        <i class="fas fa-clock"></i>
                        <h4 id="value-title-2">Disponibilité</h4>
                        <p id="value-desc-2">24h/24 et 7j/7</p>
                    </div>
                    <div class="value-item">
                        <i class="fas fa-users"></i>
                        <h4 id="value-title-3">Proximité</h4>
                        <p id="value-desc-3">À votre écoute</p>
                    </div>
                    <div class="value-item">
                        <i class="fas fa-star"></i>
                        <h4 id="value-title-4">Qualité</h4>
                        <p id="value-desc-4">Services haut de gamme</p>
                    </div>
                </div>
            </div>
            <div class="about-image">
                <img src="https://images.unsplash.com/photo-1590065480004-6f5f471f2c0c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Équipe FOR SÉCURITÉ PRIVÉE - Agents de sécurité" id="about-main-image">
            </div>
        </div>
    </section>
    
    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="contact-container">
            <div class="contact-info">
                <h2 id="contact-title">Contactez-nous</h2>
                <p id="contact-description">Notre équipe est à votre disposition pour répondre à toutes vos questions et vous proposer des solutions adaptées à vos besoins en sécurité.</p>
                
                <ul class="contact-details">
                    <li>
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="contact-address">83 rue Yves Montand, 34080 Montpellier</span>
                    </li>
                    <li>
                        <i class="fas fa-phone"></i>
                        <span id="contact-phone">06 60 35 01 97</span>
                    </li>
                    <li>
                        <i class="fas fa-envelope"></i>
                        <span id="contact-email">contacte@4sp.fr</span>
                    </li>
                    <li>
                        <i class="fas fa-clock"></i>
                        <span id="contact-availability">Disponible 24h/24 et 7j/7</span>
                    </li>
                    <li>
                        <i class="fas fa-users"></i>
                        <span id="contact-agents">Plus de 50 agents dédiés</span>
                    </li>
                </ul>
            </div>
            
            <div class="contact-form">
                <h3 id="contact-form-title">Demande de devis</h3>
                <div id="form-message" class="form-message"></div>
                <form id="contactForm" action="https://formspree.io/f/xeolqboy" method="POST">
                    <div class="form-group">
                        <label for="name">Nom complet *</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Adresse email *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Téléphone</label>
                        <input type="tel" id="phone" name="phone">
                    </div>
                    <div class="form-group">
                        <label for="service">Service demandé *</label>
                        <select id="service" name="service" required>
                            <option value="">Sélectionnez un service</option>
                            <option value="gardiennage">Gardiennage & Surveillance</option>
                            <option value="rondes">Rondes & Interventions</option>
                            <option value="evenementiel">Sécurité Événementielle</option>
                            <option value="autre">Autre demande</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="message">Message *</label>
                        <textarea id="message" name="message" required></textarea>
                    </div> 
                    <input type="hidden" name="_next" value="https://mehamda.github.io/S-curit--Montpellier-1-/?submission=success#contact">
                    <button type="submit" class="btn" id="submit-btn">
                        <span id="btn-text">Envoyer la demande</span>
                        <div id="btn-loading" class="form-loading" style="display: none;"></div>
                    </button>
                </form>
            </div>
        </div>
        
        <div class="map-container">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2888.55942739232!2d3.848876176955411!2d43.61087915538826!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12b6af5f48ab0c1f%3A0x9e1e43a9c2c94b3a!2s83%20Rue%20Yves%20Montand%2C%2034080%20Montpellier!5e0!3m2!1sfr!2sfr!4v1700000000000!5m2!1sfr!2sfr" allowfullscreen="" loading="lazy" title="Localisation FOR SÉCURITÉ PRIVÉE Montpellier"></iframe>
        </div>
    </section>
    
    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3 id="footer-title-1">FOR SÉCURITÉ PRIVÉE (4SP)</h3>
                <p id="footer-description-1">Votre partenaire de confiance pour tous vos besoins en sécurité. Protection optimale pour particuliers et professionnels.</p>
                <p id="footer-agents-count">Plus de 50 agents dédiés à votre sécurité</p>
            </div>
            <div class="footer-section">
                <h3 id="footer-title-2">Nos coordonnées</h3>
                <p><i class="fas fa-map-marker-alt"></i> <span id="footer-address">83 rue Yves Montand, 34080 Montpellier</span></p>
                <p><i class="fas fa-phone"></i> <span id="footer-phone">06 60 35 01 97</span></p>
                <p><i class="fas fa-envelope"></i> <span id="footer-email">contacte@4sp.fr</span></p>
            </div>
            <div class="footer-section">
                <h3 id="footer-title-3">Liens rapides</h3>
                <ul>
                    <li><a href="#" onclick="showSection('home')">Accueil</a></li>
                    <li><a href="#services" onclick="showSection('services')">Services</a></li>
                    <li><a href="#about" onclick="showSection('about')">À propos</a></li>
                    <li><a href="#contact" onclick="showSection('contact')">Contact</a></li>
                    <li><a href="#reports" onclick="showSection('reports')">Rapports</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3 id="footer-title-4">Suivez-nous</h3>
                <div class="social-icons">
                    <a href="#" aria-label="Facebook FOR SÉCURITÉ PRIVÉE"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" aria-label="Twitter FOR SÉCURITÉ PRIVÉE"><i class="fab fa-twitter"></i></a>
                    <a href="#" aria-label="LinkedIn FOR SÉCURITÉ PRIVÉE"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#" aria-label="Instagram FOR SÉCURITÉ PRIVÉE"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        
        <!-- Ajout des mentions légales -->
        <button class="legal-toggle" onclick="toggleLegalMentions()">Voir les mentions légales</button>
        <div class="legal-mentions" id="legalMentions">
            <h4>Mentions légales</h4>
            <p>Conformément aux dispositions des articles 6-III et 19 de la loi n°2004-575 du 21 juin 2004 pour la Confiance dans l'économie numérique, il est porté à la connaissance des utilisateurs du site for securite privee (4SP) les présentes mentions légales.</p>
            <p>Le présent site est édité par :<br>
            4SP, SASU au capital social de 200,00 €<br>
            Siège social : 83 rue Yves Montand, 34080 Montpellier, France<br>
            Immatriculée au RCS de Montpellier sous le numéro 932 030 968<br>
            Numéro de TVA intracommunautaire : FR16 932 030 968</p>
            
            <p>Directeur de la publication : M. MEHAMDA Zouheir, Président de la SASU 4SP</p>
            
            <p>Le site est hébergé par :<br>
            GitHub, Inc.<br>
            Siège social : 88 Colin P. Kelly Jr. Street, San Francisco, CA 94107, États-Unis<br>
            Site web : https://pages.github.com</p>
            
            <p>Autorisation administrative n° AUT-034-2124-01-03-20240960982 du 03 janvier 2025 délivré par le CNAPS conformément à l'article L612-9 du Code de la sécurité intérieure. « L'autorisation d'exercice ne confère aucune prérogative de puissance publique à l'entreprise ou aux personnes qui en bénéficient. » (article L612-14 du CSI).</p>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; <span id="footer-year">2024</span> FOR SÉCURITÉ PRIVÉE (4SP) - Tous droits réservés</p>
        </div>
        
        <div class="admin-access">
            <div class="admin-toggle" onclick="openAdmin()">
                <i class="fas fa-cog"></i>
            </div>
        </div>
    </footer>

    <!-- Modal pour les rapports -->
    <div class="report-modal" id="reportModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div id="modal-content"></div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-content">
            <span class="close-admin" onclick="closeAdmin()">&times;</span>
            
            <div id="loginSection" class="admin-section active">
                <div class="login-panel">
                    <h2>Connexion Administrateur</h2>
                    <p>Veuillez entrer le mot de passe pour accéder au panel d'administration</p>
                    <input type="password" id="adminPassword" class="password-input" placeholder="Mot de passe">
                    <button class="admin-btn" onclick="checkPassword()">Se connecter</button>
                </div>
            </div>
            
            <div id="adminMainSection" class="admin-section">
                <h2>Panel d'Administration FOR SÉCURITÉ PRIVÉE</h2>
                
                <!-- Indicateur de statut de synchronisation -->
                <div id="syncStatus" class="sync-status sync-offline">
                    <i class="fas fa-sync-alt"></i> Synchronisation: Chargement...
                </div>
                
                <div class="admin-tabs">
                    <div class="admin-tab active" onclick="switchTab('services-tab', event)">Services</div>
                    <div class="admin-tab" onclick="switchTab('reports-tab', event)">Rapports</div>
                    <div class="admin-tab" onclick="switchTab('content-tab', event)">Contenu</div>
                    <div class="admin-tab" onclick="switchTab('header-tab', event)">En-tête</div>
                    <div class="admin-tab" onclick="switchTab('footer-tab', event)">Pied de page</div>
                    <div class="admin-tab" onclick="switchTab('contact-tab', event)">Contact</div>
                    <div class="admin-tab" onclick="switchTab('seo-tab', event)">SEO</div>
                    <div class="admin-tab" onclick="switchTab('appearance-tab', event)">Apparence</div>
                    <div class="admin-tab" onclick="switchTab('sync-tab', event)">Synchronisation</div>
                </div>
                
                <div id="services-tab" class="admin-section active">
                    <h3>Gestion des Services</h3>
                    
                    <div class="admin-form-group">
                        <label>Sélectionnez un service à modifier:</label>
                        <select id="service-selector" onchange="loadServiceData()">
                            <option value="service1">Gardiennage & Surveillance Humaine</option>
                            <option value="service2">Rondes & Interventions</option>
                            <option value="service3">Sécurité Événementielle</option>
                        </select>
                    </div>
                    
                    <div id="service-editor">
                        <div class="admin-form-group">
                            <label for="service-title">Titre du Service</label>
                            <input type="text" id="service-title" value="">
                        </div>
                        <div class="admin-form-group">
                            <label for="service-desc">Description du Service</label>
                            <textarea id="service-desc"></textarea>
                        </div>
                        
                        <div class="admin-form-group">
                            <label>Caractéristiques du Service</label>
                            <div id="service-features-container">
                                <!-- Les caractéristiques seront générées ici -->
                            </div>
                            <button type="button" class="admin-btn-secondary" onclick="addFeature()">
                                <i class="fas fa-plus"></i> Ajouter une caractéristique
                            </button>
                        </div>
                        
                        <div class="service-images-management">
                            <h4>Gestion des Images du Service (Maximum 4)</h4>
                            <div class="admin-form-group">
                                <label for="service-main-image">Image Principale</label>
                                <input type="file" id="service-main-image" accept="image/*" onchange="previewMainImage(this)">
                                <div class="image-preview" id="service-main-image-preview"></div>
                            </div>
                            
                            <div class="admin-form-group">
                                <label>Images supplémentaires (Galerie)</label>
                                <div class="service-images-grid" id="service-gallery-images">
                                    <!-- Les images de galerie seront générées ici -->
                                </div>
                                <button type="button" class="admin-btn-secondary" onclick="addGalleryImage()" id="add-gallery-image-btn">
                                    <i class="fas fa-plus"></i> Ajouter une image à la galerie
                                </button>
                            </div>
                        </div>
                        
                        <button class="admin-btn" onclick="saveServiceData()">
                            <i class="fas fa-save"></i> Enregistrer les modifications
                        </button>
                    </div>
                </div>
                
                <div id="reports-tab" class="admin-section">
                    <h3>Gestion des Rapports d'Activité</h3>
                    <div class="admin-form-group">
                        <label for="report-title">Titre du Rapport</label>
                        <input type="text" id="report-title" placeholder="Titre du rapport">
                    </div>
                    <div class="admin-form-group">
                        <label for="report-date">Date du Rapport</label>
                        <input type="date" id="report-date">
                    </div>
                    <div class="admin-form-group">
                        <label for="report-content">Contenu du Rapport</label>
                        <textarea id="report-content" placeholder="Contenu détaillé du rapport"></textarea>
                    </div>
                    <div class="admin-form-group">
                        <label for="report-image">Image (optionnelle)</label>
                        <input type="file" id="report-image" accept="image/*" onchange="previewImage(this, 'reportImagePreview')">
                        <div class="image-preview" id="reportImagePreview"></div>
                    </div>
                    <button class="admin-btn" onclick="addReport()">Ajouter le Rapport</button>
                    
                    <h4>Rapports Existants</h4>
                    <div id="existing-reports">
                        <!-- Les rapports existants seront chargés ici -->
                    </div>
                </div>
                
                <div id="content-tab" class="admin-section">
                    <h3>Gestion du Contenu Principal</h3>
                    
                    <div class="admin-section-header">
                        <h4 class="admin-section-title">Section Hero</h4>
                    </div>
                    <div class="admin-form-group">
                        <label for="hero-title">Titre Principal</label>
                        <input type="text" id="hero-title" value="Experts en Sécurité à Montpellier">
                    </div>
                    <div class="admin-form-group">
                        <label for="hero-text">Texte Principal</label>
                        <textarea id="hero-text">Plus de 50 agents dédiés à votre protection 24h/24 et 7j/7</textarea>
                    </div>
                    
                    <div class="admin-section-header">
                        <h4 class="admin-section-title">Section Présentation Commerciale</h4>
                    </div>
                    <div class="admin-form-group">
                        <label for="commercial-title">Titre Commercial</label>
                        <input type="text" id="commercial-title" value="Votre partenaire de confiance en sécurité privée">
                    </div>
                    <div class="admin-form-group">
                        <label for="commercial-text">Texte Commercial</label>
                        <textarea id="commercial-text" class="commercial-text-editor">Chez FOR SÉCURITÉ PRIVÉE (4SP), nous mettons à votre disposition des solutions de sécurité sur mesure, adaptées à vos besoins spécifiques. Notre équipe de plus de 50 agents expérimentés vous garantit une protection optimale de vos biens et personnes.</textarea>
                    </div>
                    <div class="admin-form-group">
                        <label for="commercial-text-2">Deuxième Paragraphe Commercial</label>
                        <textarea id="commercial-text-2" class="commercial-text-editor">Forte de son expertise et de son professionnalisme, notre société créée à Montpellier en 2024 s'engage à vous offrir des services de qualité avec réactivité et efficacité.</textarea>
                    </div>
                    
                    <div class="admin-section-header">
                        <h4 class="admin-section-title">Section À Propos</h4>
                    </div>
                    <div class="admin-form-group">
                        <label for="about-title">Titre À Propos</label>
                        <input type="text" id="about-title" value="À propos de FOR SÉCURITÉ PRIVÉE (4SP)">
                    </div>
                    <div class="admin-form-group">
                        <label for="about-text-1">Premier Paragraphe À Propos</label>
                        <textarea id="about-text-1" class="about-text-editor">Forte de plus de 50 agents expérimentés, FOR SÉCURITÉ PRIVÉE (4SP) est la référence en matière de sécurité dans la région de Montpellier. Notre société a été créée en 2024 avec l'ambition de redéfinir les standards de qualité dans le domaine de la sécurité privée.</textarea>
                    </div>
                    <div class="admin-form-group">
                        <label for="about-text-2">Deuxième Paragraphe À Propos</label>
                        <textarea id="about-text-2" class="about-text-editor">Nous utilisons uniquement des équipements de haute technologie, régulièrement mis à jour pour faire face aux nouvelles menaces. Notre centre de surveillance opérationnel 24h/24 et 7j/7 garantit une intervention rapide en cas d'incident.</textarea>
                    </div>
                    <div class="admin-form-group">
                        <label for="about-values-title">Titre des Valeurs</label>
                        <input type="text" id="about-values-title" value="Nos valeurs">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="about-main-image">Image À Propos</label>
                        <input type="file" id="about-main-image" accept="image/*" onchange="previewImage(this, 'aboutImagePreview')">
                        <div class="image-preview" id="aboutImagePreview"></div>
                    </div>
                    
                    <div class="admin-section-header">
                        <h4 class="admin-section-title">Valeurs</h4>
                    </div>
                    <div class="admin-form-group">
                        <label for="value-title-1">Titre Valeur 1</label>
                        <input type="text" id="value-title-1" value="Expertise">
                    </div>
                    <div class="admin-form-group">
                        <label for="value-desc-1">Description Valeur 1</label>
                        <input type="text" id="value-desc-1" value="Des agents formés et certifiés">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="value-title-2">Titre Valeur 2</label>
                        <input type="text" id="value-title-2" value="Disponibilité">
                    </div>
                    <div class="admin-form-group">
                        <label for="value-desc-2">Description Valeur 2</label>
                        <input type="text" id="value-desc-2" value="24h/24 et 7j/7">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="value-title-3">Titre Valeur 3</label>
                        <input type="text" id="value-title-3" value="Proximité">
                    </div>
                    <div class="admin-form-group">
                        <label for="value-desc-3">Description Valeur 3</label>
                        <input type="text" id="value-desc-3" value="À votre écoute">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="value-title-4">Titre Valeur 4</label>
                        <input type="text" id="value-title-4" value="Qualité">
                    </div>
                    <div class="admin-form-group">
                        <label for="value-desc-4">Description Valeur 4</label>
                        <input type="text" id="value-desc-4" value="Services haut de gamme">
                    </div>
                    
                    <div class="admin-section-header">
                        <h4 class="admin-section-title">Section Rapports</h4>
                    </div>
                    <div class="admin-form-group">
                        <label for="reports-description">Description des Rapports</label>
                        <textarea id="reports-description">Découvrez nos rapports d'activité réguliers pour suivre notre actualité et nos interventions.</textarea>
                    </div>
                    
                    <button class="admin-btn" onclick="saveContent()">Enregistrer le Contenu</button>
                </div>
                
                <div id="header-tab" class="admin-section">
                    <h3>Gestion de l'En-tête</h3>
                    
                    <div class="admin-form-group">
                        <label for="header-company-name">Nom de l'entreprise</label>
                        <input type="text" id="header-company-name" value="FOR SÉCURITÉ PRIVÉE (4SP)">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="header-company-slogan">Slogan de l'entreprise</label>
                        <input type="text" id="header-company-slogan" value="Votre sécurité est notre priorité depuis 2024">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="logo-upload">Logo du site</label>
                        <input type="file" id="logo-upload" accept="image/*" onchange="previewLogo(this)">
                        <div class="image-preview" id="logo-preview"></div>
                    </div>
                    
                    <div class="admin-form-group">
                        <label>Navigation</label>
                        <div class="admin-help-text">La navigation est gérée automatiquement en fonction de la structure du site.</div>
                    </div>
                    
                    <button class="admin-btn" onclick="saveHeader()">Enregistrer l'en-tête</button>
                </div>
                
                <div id="footer-tab" class="admin-section">
                    <h3>Gestion du Pied de Page</h3>
                    
                    <div class="admin-form-group">
                        <label for="footer-title-1">Titre Colonne 1</label>
                        <input type="text" id="footer-title-1" value="FOR SÉCURITÉ PRIVÉE (4SP)">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="footer-description-1">Description Colonne 1</label>
                        <textarea id="footer-description-1" class="footer-editor">Votre partenaire de confiance pour tous vos besoins en sécurité. Protection optimale pour particuliers et professionnels.</textarea>
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="footer-agents-count">Nombre d'agents</label>
                        <input type="text" id="footer-agents-count" value="Plus de 50 agents dédiés à votre sécurité">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="footer-title-2">Titre Colonne 2</label>
                        <input type="text" id="footer-title-2" value="Nos coordonnées">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="footer-address">Adresse</label>
                        <input type="text" id="footer-address" value="83 rue Yves Montand, 34080 Montpellier">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="footer-phone">Téléphone</label>
                        <input type="text" id="footer-phone" value="06 60 35 01 97">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="footer-email">Email</label>
                        <input type="text" id="footer-email" value="forsecuriteprivee@gmail.com">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="footer-title-3">Titre Colonne 3</label>
                        <input type="text" id="footer-title-3" value="Liens rapides">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="footer-title-4">Titre Colonne 4</label>
                        <input type="text" id="footer-title-4" value="Suivez-nous">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="footer-year">Année du copyright</label>
                        <input type="text" id="footer-year" value="2024">
                    </div>
                    
                    <button class="admin-btn" onclick="saveFooter()">Enregistrer le pied de page</button>
                </div>
                
                <div id="contact-tab" class="admin-section">
                    <h3>Gestion de la Section Contact</h3>
                    
                    <div class="admin-form-group">
                        <label for="contact-title">Titre Contact</label>
                        <input type="text" id="contact-title" value="Contactez-nous">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="contact-description">Description Contact</label>
                        <textarea id="contact-description" class="contact-info-editor">Notre équipe est à votre disposition pour répondre à toutes vos questions et vous proposer des solutions adaptées à vos besoins en sécurité.</textarea>
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="contact-address">Adresse</label>
                        <input type="text" id="contact-address" value="83 rue Yves Montand, 34080 Montpellier">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="contact-phone">Téléphone</label>
                        <input type="text" id="contact-phone" value="06 60 35 01 97">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="contact-email">Email</label>
                        <input type="text" id="contact-email" value="forsecuriteprivee@gmail.com">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="contact-availability">Disponibilité</label>
                        <input type="text" id="contact-availability" value="Disponible 24h/24 et 7j/7">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="contact-agents">Agents</label>
                        <input type="text" id="contact-agents" value="Plus de 50 agents dédiés">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="contact-form-title">Titre Formulaire</label>
                        <input type="text" id="contact-form-title" value="Demande de devis">
                    </div>
                    
                    <button class="admin-btn" onclick="saveContact()">Enregistrer les informations de contact</button>
                </div>
                
                <div id="seo-tab" class="admin-section">
                    <h3>Optimisation SEO</h3>
                    <div class="seo-status">
                        <div class="seo-score">
                            <div class="score-circle">82%</div>
                            <div>Score SEO global du site</div>
                        </div>
                        <p>Votre site est bien optimisé pour les moteurs de recherche. Voici les points à améliorer :</p>
                        <ul class="keyword-list">
                            <li>Ajouter plus de contenu sur la page d'accueil<span class="keyword-position">+15%</span></li>
                            <li>Optimiser les temps de chargement mobile<span class="keyword-position">+12%</span></li>
                            <li>Ajouter un blog avec articles réguliers<span class="keyword-position">+20%</span></li>
                        </ul>
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="meta-title">Meta Title</label>
                        <input type="text" id="meta-title" value="FOR SÉCURITÉ PRIVÉE (4SP) - Experts en sécurité à Montpellier">
                    </div>
                    <div class="admin-form-group">
                        <label for="meta-description">Meta Description</label>
                        <textarea id="meta-description">Société de sécurité à Montpellier proposant gardiennage, surveillance, sécurité événementielle. Agents diplômés CNAPS. Devis gratuit.</textarea>
                    </div>
                    
                    <h4>Mots-clés suivis</h4>
                    <ul class="keyword-list">
                        <li>sécurité<span class="keyword-position">Position: #8</span></li>
                        <li>agent de sécurité<span class="keyword-position">Position: #5</span></li>
                        <li>société de sécurité Montpellier<span class="keyword-position">Position: #3</span></li>
                        <li>gardiennage<span class="keyword-position">Position: #6</span></li>
                        <li>surveillance<span class="keyword-position">Position: #7</span></li>
                    </ul>
                    
                    <button class="admin-btn" onclick="saveSEO()">Enregistrer les paramètres SEO</button>
                    <button class="admin-btn" onclick="generateSEOSuggestions()">Générer des suggestions SEO</button>
                    
                    <div id="seo-suggestions"></div>
                </div>
                
                <div id="appearance-tab" class="admin-section">
                    <h3>Gestion de l'Apparence</h3>
                    
                    <div class="admin-form-group">
                        <label for="primary-color">Couleur principale <span class="color-preview" id="primary-color-preview" style="background-color: #e30613;"></span></label>
                        <input type="color" id="primary-color" value="#e30613" onchange="updateColorPreview('primary-color', 'primary-color-preview')">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="secondary-color">Couleur secondaire <span class="color-preview" id="secondary-color-preview" style="background-color: #000000;"></span></label>
                        <input type="color" id="secondary-color" value="#000000" onchange="updateColorPreview('secondary-color', 'secondary-color-preview')">
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="accent-color">Couleur d'accent <span class="color-preview" id="accent-color-preview" style="background-color: #ffffff; border: 1px solid #ccc;"></span></label>
                        <input type="color" id="accent-color" value="#ffffff" onchange="updateColorPreview('accent-color', 'accent-color-preview')">
                    </div>
                    
                    <button class="admin-btn" onclick="saveAppearance()">Enregistrer l'apparence</button>
                    
                    <div class="admin-help-text">
                        <p><strong>Conseil :</strong> Les couleurs seront appliquées immédiatement après l'enregistrement. Assurez-vous que le contraste entre les couleurs est suffisant pour une bonne accessibilité.</p>
                    </div>
                </div>
                
                <div id="sync-tab" class="admin-section">
                    <h3>Synchronisation Multi-Appareils</h3>
                    
                    <div class="admin-form-group">
                        <label>Statut de synchronisation</label>
                        <div id="sync-details" class="sync-status sync-offline">
                            <i class="fas fa-info-circle"></i> Chargement des informations de synchronisation...
                        </div>
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="firebase-config">Configuration Firebase (pour développeurs)</label>
                        <textarea id="firebase-config" class="admin-form-group" rows="6" placeholder='{
  "apiKey": "votre_api_key",
  "authDomain": "votre_projet.firebaseapp.com",
  "projectId": "votre_projet",
  "storageBucket": "votre_projet.firebasestorage.app",
  "messagingSenderId": "123456789",
  "appId": "votre_app_id"
}'></textarea>
                        <button class="admin-btn-secondary" onclick="saveFirebaseConfig()">Enregistrer la configuration</button>
                    </div>
                    
                    <div class="admin-form-group">
                        <label>Outils de synchronisation</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="admin-btn-secondary" onclick="forceSync()">
                                <i class="fas fa-sync"></i> Forcer la synchronisation
                            </button>
                            <button class="admin-btn-secondary" onclick="exportBackup()">
                                <i class="fas fa-download"></i> Exporter sauvegarde
                            </button>
                            <button class="admin-btn-secondary" onclick="importBackup()">
                                <i class="fas fa-upload"></i> Importer sauvegarde
                            </button>
                        </div>
                    </div>
                    
                    <div class="admin-form-group">
                        <label for="backup-data">Données de sauvegarde</label>
                        <textarea id="backup-data" class="admin-form-group" rows="6" placeholder="Les données de sauvegarde apparaîtront ici..."></textarea>
                    </div>
                    
                    <div class="admin-help-text">
                        <p><strong>Information :</strong> La synchronisation automatique utilise Firebase pour synchroniser vos données entre tous vos appareils. Assurez-vous de configurer Firebase correctement.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== GESTION RESPONSIVE AMÉLIORÉE =====
        
        // Fonction pour gérer le menu mobile
        function initMobileMenu() {
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const mainNav = document.getElementById('mainNav');
            
            if (mobileMenuToggle && mainNav) {
                mobileMenuToggle.addEventListener('click', function() {
                    mainNav.classList.toggle('show');
                    // Changer l'icône du menu
                    const icon = mobileMenuToggle.querySelector('i');
                    if (mainNav.classList.contains('show')) {
                        icon.classList.remove('fa-bars');
                        icon.classList.add('fa-times');
                    } else {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                });
                
                // Fermer le menu en cliquant sur un lien
                const navLinks = mainNav.querySelectorAll('a');
                navLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        mainNav.classList.remove('show');
                        mobileMenuToggle.querySelector('i').classList.remove('fa-times');
                        mobileMenuToggle.querySelector('i').classList.add('fa-bars');
                    });
                });
                
                // Fermer le menu en cliquant à l'extérieur
                document.addEventListener('click', function(event) {
                    if (!mainNav.contains(event.target) && !mobileMenuToggle.contains(event.target)) {
                        mainNav.classList.remove('show');
                        mobileMenuToggle.querySelector('i').classList.remove('fa-times');
                        mobileMenuToggle.querySelector('i').classList.add('fa-bars');
                    }
                });
            }
        }
        
        // Fonction pour ajuster les images selon l'appareil
        function optimizeImagesForDevice() {
            const images = document.querySelectorAll('img');
            const isMobile = window.innerWidth <= 768;
            
            images.forEach(img => {
                // S'assurer que les images sont responsives
                if (!img.hasAttribute('loading')) {
                    img.setAttribute('loading', 'lazy');
                }
                
                // Optimiser les images pour mobile
                if (isMobile) {
                    // Réduire la qualité des images sur mobile si nécessaire
                    if (img.src.includes('unsplash.com') && !img.src.includes('w=')) {
                        // Ajouter des paramètres de taille pour les images Unsplash
                        const newSrc = img.src + (img.src.includes('?') ? '&' : '?') + 'w=800&q=80';
                        img.src = newSrc;
                    }
                }
            });
        }
        
        // Fonction pour ajuster les iframes selon l'appareil
        function optimizeIframesForDevice() {
            const iframes = document.querySelectorAll('iframe');
            const isMobile = window.innerWidth <= 768;
            
            iframes.forEach(iframe => {
                if (isMobile) {
                    // Ajuster la hauteur des iframes sur mobile
                    iframe.style.height = '300px';
                } else {
                    iframe.style.height = '400px';
                }
            });
        }
        
        // Fonction pour détecter et ajuster selon l'appareil
        function detectDeviceAndAdjust() {
            const isMobile = window.innerWidth <= 768;
            const isTablet = window.innerWidth > 768 && window.innerWidth <= 1024;
            const isDesktop = window.innerWidth > 1024;
            
            // Ajouter des classes CSS selon l'appareil
            document.body.classList.remove('mobile-device', 'tablet-device', 'desktop-device');
            
            if (isMobile) {
                document.body.classList.add('mobile-device');
            } else if (isTablet) {
                document.body.classList.add('tablet-device');
            } else {
                document.body.classList.add('desktop-device');
            }
            
            // Ajustements spécifiques selon l'appareil
            optimizeImagesForDevice();
            optimizeIframesForDevice();
            
            // Ajuster la hauteur de la section hero
            const hero = document.querySelector('.hero');
            if (hero) {
                if (isMobile) {
                    hero.style.minHeight = '70vh';
                } else {
                    hero.style.minHeight = '90vh';
                }
            }
        }
        
        // ===== SYSTÈME DE SYNCHRONISATION MULTI-APPAREILS AMÉLIORÉ =====
        
        // Configuration Firebase par défaut (à personnaliser)
        let firebaseConfig = {
            apiKey: "AIzaSyDEXAMPLEEXAMPLEEXAMPLEEXAMPLEEXAMPLE",
            authDomain: "for-securite-privee.firebaseapp.com",
            projectId: "for-securite-privee",
            storageBucket: "for-securite-privee.firebasestorage.app",
            messagingSenderId: "123456789012",
            appId: "1:123456789012:web:abc123def456ghi789"
        };
        
        let db = null;
        let storage = null;
        let isFirebaseInitialized = false;
        let syncEnabled = false;
        let syncRetryCount = 0;
        const MAX_SYNC_RETRIES = 3;
        
        // Initialiser Firebase avec gestion d'erreur améliorée
        async function initializeFirebase() {
            try {
                // Charger la configuration sauvegardée
                const savedConfig = localStorage.getItem('firebaseConfig');
                if (savedConfig) {
                    firebaseConfig = JSON.parse(savedConfig);
                }
                
                if (typeof firebase !== 'undefined') {
                    // Vérifier si Firebase est déjà initialisé
                    if (firebase.apps.length === 0) {
                        firebase.initializeApp(firebaseConfig);
                    }
                    
                    db = firebase.firestore();
                    storage = firebase.storage();
                    isFirebaseInitialized = true;
                    syncEnabled = true;
                    
                    // Activer la persistance des données pour une meilleure expérience hors ligne
                    await db.enablePersistence()
                        .catch((err) => {
                            console.warn("La persistance des données n'est pas supportée:", err);
                        });
                    
                    console.log("Firebase initialisé avec succès");
                    updateSyncStatus("Synchronisation Firebase active", true);
                    
                    // Écouter les changements en temps réel
                    setupRealtimeSync();
                    
                    return true;
                } else {
                    throw new Error("Firebase SDK non chargé");
                }
            } catch (error) {
                console.error("Erreur d'initialisation Firebase:", error);
                updateSyncStatus("Synchronisation désactivée (Erreur Firebase)", false);
                syncEnabled = false;
                syncRetryCount++;
                
                // Réessayer après un délai si nous n'avons pas dépassé le nombre maximum de tentatives
                if (syncRetryCount < MAX_SYNC_RETRIES) {
                    setTimeout(() => {
                        console.log("Tentative de reconnexion Firebase...");
                        initializeFirebase();
                    }, 5000 * syncRetryCount); // Délai exponentiel
                }
            }
            return false;
        }
        
        // Mettre à jour le statut de synchronisation
        function updateSyncStatus(message, isOnline) {
            const statusElement = document.getElementById('syncStatus');
            const detailsElement = document.getElementById('sync-details');
            
            if (statusElement) {
                statusElement.innerHTML = `<i class="fas fa-${isOnline ? 'check-circle' : 'exclamation-triangle'}"></i> ${message}`;
                statusElement.className = `sync-status ${isOnline ? 'sync-online' : 'sync-offline'}`;
            }
            
            if (detailsElement) {
                detailsElement.innerHTML = `
                    <i class="fas fa-${isOnline ? 'check-circle' : 'exclamation-triangle'}"></i> 
                    ${message} | 
                    Dernière sync: ${new Date().toLocaleTimeString()}
                `;
                detailsElement.className = `sync-status ${isOnline ? 'sync-online' : 'sync-offline'}`;
            }
        }
        
        // Configuration de la synchronisation en temps réel améliorée
        function setupRealtimeSync() {
            if (!isFirebaseInitialized) return;
            
            // Écouter les changements sur les données principales avec gestion d'erreur
            const unsubscribe = db.collection('siteData')
                .onSnapshot(
                    (snapshot) => {
                        snapshot.docChanges().forEach((change) => {
                            if (change.type === 'modified' || change.type === 'added') {
                                const data = change.doc.data();
                                console.log('Donnée synchronisée:', change.doc.id, data.lastUpdated);
                                
                                // Mettre à jour le localStorage local
                                localStorage.setItem(change.doc.id, JSON.stringify(data));
                                
                                // Mettre à jour l'interface si nécessaire
                                updateUIFromSync(change.doc.id, data);
                            }
                        });
                        updateSyncStatus("Synchronisation en temps réel active", true);
                    }, 
                    (error) => {
                        console.error("Erreur synchronisation temps réel:", error);
                        updateSyncStatus("Sync temps réel interrompue", false);
                        
                        // Tenter de rétablir la connexion
                        setTimeout(() => {
                            if (isFirebaseInitialized) {
                                setupRealtimeSync();
                            }
                        }, 5000);
                    }
                );
        }
        
        // Mettre à jour l'interface depuis la synchronisation
        function updateUIFromSync(key, data) {
            // Mettre à jour les éléments UI en fonction de la clé synchronisée
            const element = document.getElementById(key.replace('sync-', ''));
            if (element) {
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA' || element.tagName === 'SELECT') {
                    element.value = data.value || '';
                } else if (element.tagName === 'IMG') {
                    element.src = data.value || element.src;
                } else {
                    element.textContent = data.value || '';
                }
            }
            
            // Mettre à jour les données spécifiques aux services
            if (key.startsWith('service')) {
                updateServiceUI(key, data);
            }
        }
        
        // Mettre à jour l'interface des services
        function updateServiceUI(key, data) {
            const serviceId = key.replace('Title', '').replace('Desc', '').replace('Features', '');
            const elementSuffix = key.includes('Title') ? '-title' : 
                                key.includes('Desc') ? '-desc' : 
                                key.includes('Features') ? '-features' : '';
            
            const targetElement = document.getElementById(serviceId + elementSuffix);
            if (targetElement) {
                if (elementSuffix === '-features') {
                    // Mettre à jour la liste des caractéristiques
                    targetElement.innerHTML = '';
                    if (data.value && Array.isArray(data.value)) {
                        data.value.forEach(feature => {
                            const li = document.createElement('li');
                            li.textContent = feature;
                            targetElement.appendChild(li);
                        });
                    }
                } else {
                    targetElement.textContent = data.value || '';
                }
            }
        }
        
        // Sauvegarder une donnée avec synchronisation améliorée
        async function saveSyncedData(key, value) {
            const dataToSave = {
                value: value,
                lastUpdated: new Date().toISOString(),
                syncedFrom: navigator.userAgent.substring(0, 100), // Limiter la longueur
                deviceId: await getDeviceId()
            };
            
            // Sauvegarde locale immédiate
            localStorage.setItem(key, JSON.stringify(dataToSave));
            
            // Sauvegarde cloud si Firebase est actif
            if (isFirebaseInitialized && syncEnabled) {
                try {
                    await db.collection('siteData').doc(key).set(dataToSave);
                    console.log("Donnée synchronisée vers cloud:", key);
                    return true;
                } catch (error) {
                    console.error("Erreur sauvegarde cloud, utilisation locale seulement:", error);
                    
                    // Stocker en file d'attente pour synchronisation ultérieure
                    queueForSync(key, dataToSave);
                    return false;
                }
            } else {
                // Stocker en file d'attente pour synchronisation ultérieure
                queueForSync(key, dataToSave);
            }
            return false;
        }
        
        // File d'attente pour la synchronisation
        function queueForSync(key, data) {
            const pendingSync = JSON.parse(localStorage.getItem('pendingSync') || '{}');
            pendingSync[key] = data;
            localStorage.setItem('pendingSync', JSON.stringify(pendingSync));
            
            // Planifier une tentative de synchronisation
            setTimeout(() => {
                processSyncQueue();
            }, 5000);
        }
        
        // Traiter la file d'attente de synchronisation
        async function processSyncQueue() {
            if (!isFirebaseInitialized || !syncEnabled) return;
            
            const pendingSync = JSON.parse(localStorage.getItem('pendingSync') || '{}');
            const keys = Object.keys(pendingSync);
            
            for (const key of keys) {
                try {
                    await db.collection('siteData').doc(key).set(pendingSync[key]);
                    console.log("Donnée synchronisée depuis la file d'attente:", key);
                    
                    // Retirer de la file d'attente
                    delete pendingSync[key];
                    localStorage.setItem('pendingSync', JSON.stringify(pendingSync));
                } catch (error) {
                    console.error("Erreur synchronisation file d'attente:", error);
                }
            }
        }
        
        // Obtenir un ID unique pour l'appareil
        async function getDeviceId() {
            let deviceId = localStorage.getItem('deviceId');
            if (!deviceId) {
                deviceId = 'device_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now();
                localStorage.setItem('deviceId', deviceId);
            }
            return deviceId;
        }
        
        // Charger une donnée avec priorité cloud
        async function loadSyncedData(key) {
            // Essayer d'abord le cloud
            if (isFirebaseInitialized && syncEnabled) {
                try {
                    const doc = await db.collection('siteData').doc(key).get();
                    if (doc.exists) {
                        const data = doc.data();
                        localStorage.setItem(key, JSON.stringify(data)); // Mettre à jour le cache local
                        return data.value;
                    }
                } catch (error) {
                    console.error("Erreur chargement cloud, utilisation locale:", error);
                }
            }
            
            // Fallback vers le stockage local
            const localData = localStorage.getItem(key);
            if (localData) {
                try {
                    const parsed = JSON.parse(localData);
                    return parsed.value;
                } catch (e) {
                    return localData;
                }
            }
            
            return null;
        }
        
        // Sauvegarder des données JSON
        async function saveSyncedJSON(key, value) {
            return await saveSyncedData(key, JSON.stringify(value));
        }
        
        // Charger des données JSON
        async function loadSyncedJSON(key) {
            const data = await loadSyncedData(key);
            return data ? JSON.parse(data) : null;
        }
        
        // Forcer la synchronisation manuelle
        async function forceSync() {
            updateSyncStatus("Synchronisation manuelle en cours...", true);
            
            try {
                // Synchroniser toutes les données locales vers le cloud
                const keys = Object.keys(localStorage);
                let syncedCount = 0;
                
                for (const key of keys) {
                    if (key.startsWith('firebase') || key === 'pendingSync') continue;
                    
                    const localData = localStorage.getItem(key);
                    if (localData) {
                        try {
                            const data = JSON.parse(localData);
                            if (await saveSyncedData(key, data.value)) {
                                syncedCount++;
                            }
                        } catch (e) {
                            // Donnée non JSON, sauvegarder comme texte simple
                            if (await saveSyncedData(key, localData)) {
                                syncedCount++;
                            }
                        }
                    }
                }
                
                // Traiter la file d'attente
                await processSyncQueue();
                
                updateSyncStatus(`Synchronisation terminée: ${syncedCount} données mises à jour`, true);
            } catch (error) {
                console.error("Erreur synchronisation manuelle:", error);
                updateSyncStatus("Erreur lors de la synchronisation", false);
            }
        }
        
        // Exporter une sauvegarde
        function exportBackup() {
            const backupData = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (!key.startsWith('firebase') && key !== 'pendingSync') {
                    backupData[key] = localStorage.getItem(key);
                }
            }
            
            const backupString = JSON.stringify(backupData, null, 2);
            document.getElementById('backup-data').value = backupString;
            
            // Créer un fichier de téléchargement
            const blob = new Blob([backupString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `backup-4sp-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            
            updateSyncStatus("Sauvegarde exportée avec succès", true);
        }
        
        // Importer une sauvegarde
        async function importBackup() {
            const backupString = document.getElementById('backup-data').value;
            if (!backupString) {
                alert("Veuillez coller les données de sauvegarde d'abord");
                return;
            }
            
            try {
                const backupData = JSON.parse(backupString);
                let importedCount = 0;
                
                for (const [key, value] of Object.entries(backupData)) {
                    localStorage.setItem(key, value);
                    
                    // Essayer de parser pour obtenir la valeur
                    try {
                        const parsed = JSON.parse(value);
                        await saveSyncedData(key, parsed.value);
                    } catch (e) {
                        await saveSyncedData(key, value);
                    }
                    
                    importedCount++;
                }
                
                updateSyncStatus(`Sauvegarde importée: ${importedCount} données restaurées`, true);
                alert(`Sauvegarde restaurée avec succès! ${importedCount} données importées.`);
                
                // Recharger la page pour appliquer les changements
                setTimeout(() => location.reload(), 2000);
            } catch (error) {
                console.error("Erreur import sauvegarde:", error);
                alert("Erreur lors de l'import de la sauvegarde. Format invalide.");
            }
        }
        
        // Sauvegarder la configuration Firebase
        function saveFirebaseConfig() {
            try {
                const configText = document.getElementById('firebase-config').value;
                const config = JSON.parse(configText);
                localStorage.setItem('firebaseConfig', JSON.stringify(config));
                firebaseConfig = config;
                
                // Réinitialiser Firebase avec la nouvelle config
                if (firebase.apps.length > 0) {
                    firebase.app().delete();
                }
                initializeFirebase();
                
                alert("Configuration Firebase sauvegardée avec succès!");
            } catch (error) {
                alert("Erreur: Configuration JSON invalide");
            }
        }
        
        // ===== FONCTIONS EXISTANTES (AVEC SYNCHRONISATION INTÉGRÉE) =====
        
        // Fonctions de navigation
        function showSection(sectionId) {
            document.querySelectorAll('.service-detail').forEach(section => {
                section.classList.remove('active');
            });
            
            document.getElementById('reportModal').style.display = 'none';
            
            if (sectionId === 'home') {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else if (sectionId === 'services') {
                document.getElementById('services').scrollIntoView({ behavior: 'smooth' });
            } else if (sectionId === 'about') {
                document.getElementById('about').scrollIntoView({ behavior: 'smooth' });
            } else if (sectionId === 'contact') {
                document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
            } else if (sectionId === 'reports') {
                document.getElementById('reports').scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        function showService(serviceId) {
            document.querySelectorAll('.service-detail').forEach(section => {
                section.classList.remove('active');
            });
            
            document.getElementById(serviceId).classList.add('active');
            document.getElementById(serviceId).scrollIntoView({ behavior: 'smooth' });
        }
        
        function openModal(reportId) {
            const modal = document.getElementById('reportModal');
            const modalContent = document.getElementById('modal-content');
            
            const reports = JSON.parse(localStorage.getItem('reports') || '[]');
            const report = reports.find(r => r.id === reportId);
            
            if (report) {
                modalContent.innerHTML = `
                    ${report.image ? `<div class="modal-image"><img src="${report.image}" alt="${report.title}"></div>` : ''}
                    <div class="modal-date">${new Date(report.date).toLocaleDateString('fr-FR')}</div>
                    <h2 class="modal-title">${report.title}</h2>
                    <div class="modal-body">${report.content}</div>
                `;
                
                modal.style.display = 'block';
            }
        }
        
        function closeModal() {
            document.getElementById('reportModal').style.display = 'none';
        }
        
        // Fonctions d'administration
        function openAdmin() {
            document.getElementById('adminPanel').style.display = 'block';
            document.getElementById('loginSection').classList.add('active');
            document.getElementById('adminMainSection').classList.remove('active');
            document.getElementById('adminPassword').value = '';
        }
        
        function closeAdmin() {
            document.getElementById('adminPanel').style.display = 'none';
            isAdminAuthenticated = false;
        }
        
        // Mot de passe administrateur
        const adminPassword = "4SP@forsecuriteprivee2024";
        let isAdminAuthenticated = false;
        let currentService = 'service1';
        let serviceImages = {
            service1: { main: '', gallery: ['', '', '', ''] },
            service2: { main: '', gallery: ['', '', '', ''] },
            service3: { main: '', gallery: ['', '', '', ''] }
        };
        
        function checkPassword() {
            const password = document.getElementById('adminPassword').value;
            if (password === adminPassword) {
                isAdminAuthenticated = true;
                document.getElementById('loginSection').classList.remove('active');
                document.getElementById('adminMainSection').classList.add('active');
                
                loadAdminData();
                loadServiceData();
                loadReports();
            } else {
                alert("Mot de passe incorrect. Veuillez réessayer.");
            }
        }
        
        function switchTab(tabId, event) {
            document.querySelectorAll('.admin-section').forEach(tab => {
                if (tab.id !== 'loginSection' && tab.id !== 'adminMainSection') {
                    tab.classList.remove('active');
                }
            });
            
            document.getElementById(tabId).classList.add('active');
            
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            if (event && event.currentTarget) {
                event.currentTarget.classList.add('active');
            }
        }
        
        // Charger les données administrateur (AVEC SYNCHRONISATION)
        async function loadAdminData() {
            // Charger les données avec priorité cloud
            const heroTitle = await loadSyncedData('heroTitle');
            if (heroTitle) {
                document.getElementById('hero-title').value = heroTitle;
                document.getElementById('hero-text').value = await loadSyncedData('heroText') || '';
                document.getElementById('commercial-title').value = await loadSyncedData('commercialTitle') || '';
                document.getElementById('commercial-text').value = await loadSyncedData('commercialText') || '';
                document.getElementById('commercial-text-2').value = await loadSyncedData('commercialText2') || '';
                document.getElementById('about-title').value = await loadSyncedData('aboutTitle') || '';
                document.getElementById('about-text-1').value = await loadSyncedData('aboutText1') || '';
                document.getElementById('about-text-2').value = await loadSyncedData('aboutText2') || '';
                document.getElementById('about-values-title').value = await loadSyncedData('aboutValuesTitle') || '';
                document.getElementById('reports-description').value = await loadSyncedData('reportsDescription') || '';
                
                // Header
                document.getElementById('header-company-name').value = await loadSyncedData('headerCompanyName') || '';
                document.getElementById('header-company-slogan').value = await loadSyncedData('headerCompanySlogan') || '';
                
                // Footer
                document.getElementById('footer-title-1').value = await loadSyncedData('footerTitle1') || '';
                document.getElementById('footer-description-1').value = await loadSyncedData('footerDescription1') || '';
                document.getElementById('footer-agents-count').value = await loadSyncedData('footerAgentsCount') || '';
                document.getElementById('footer-title-2').value = await loadSyncedData('footerTitle2') || '';
                document.getElementById('footer-address').value = await loadSyncedData('footerAddress') || '';
                document.getElementById('footer-phone').value = await loadSyncedData('footerPhone') || '';
                document.getElementById('footer-email').value = await loadSyncedData('footerEmail') || '';
                document.getElementById('footer-title-3').value = await loadSyncedData('footerTitle3') || '';
                document.getElementById('footer-title-4').value = await loadSyncedData('footerTitle4') || '';
                document.getElementById('footer-year').value = await loadSyncedData('footerYear') || '';
                
                // Contact
                document.getElementById('contact-title').value = await loadSyncedData('contactTitle') || '';
                document.getElementById('contact-description').value = await loadSyncedData('contactDescription') || '';
                document.getElementById('contact-address').value = await loadSyncedData('contactAddress') || '';
                document.getElementById('contact-phone').value = await loadSyncedData('contactPhone') || '';
                document.getElementById('contact-email').value = await loadSyncedData('contactEmail') || '';
                document.getElementById('contact-availability').value = await loadSyncedData('contactAvailability') || '';
                document.getElementById('contact-agents').value = await loadSyncedData('contactAgents') || '';
                document.getElementById('contact-form-title').value = await loadSyncedData('contactFormTitle') || '';
                
                // Valeurs
                document.getElementById('value-title-1').value = await loadSyncedData('valueTitle1') || '';
                document.getElementById('value-desc-1').value = await loadSyncedData('valueDesc1') || '';
                document.getElementById('value-title-2').value = await loadSyncedData('valueTitle2') || '';
                document.getElementById('value-desc-2').value = await loadSyncedData('valueDesc2') || '';
                document.getElementById('value-title-3').value = await loadSyncedData('valueTitle3') || '';
                document.getElementById('value-desc-3').value = await loadSyncedData('valueDesc3') || '';
                document.getElementById('value-title-4').value = await loadSyncedData('valueTitle4') || '';
                document.getElementById('value-desc-4').value = await loadSyncedData('valueDesc4') || '';
            }
            
            // Charger les images des services
            const savedServiceImages = await loadSyncedJSON('serviceImages');
            if (savedServiceImages) {
                serviceImages = savedServiceImages;
            }
            
            // Charger les couleurs
            const primaryColor = await loadSyncedData('primaryColor');
            if (primaryColor) {
                document.getElementById('primary-color').value = primaryColor;
                document.getElementById('secondary-color').value = await loadSyncedData('secondaryColor') || '#000000';
                document.getElementById('accent-color').value = await loadSyncedData('accentColor') || '#ffffff';
                
                updateColorPreview('primary-color', 'primary-color-preview');
                updateColorPreview('secondary-color', 'secondary-color-preview');
                updateColorPreview('accent-color', 'accent-color-preview');
            }
            
            // Charger la configuration Firebase
            const savedFirebaseConfig = localStorage.getItem('firebaseConfig');
            if (savedFirebaseConfig) {
                document.getElementById('firebase-config').value = savedFirebaseConfig;
            }
            
            console.log("Données administrateur chargées avec synchronisation");
        }
        
        function updateColorPreview(colorInputId, previewId) {
            const colorValue = document.getElementById(colorInputId).value;
            const previewElement = document.getElementById(previewId);
            if (previewElement) {
                previewElement.style.backgroundColor = colorValue;
                
                if (colorValue === '#ffffff' || colorValue === '#fff' || colorValue === 'white') {
                    previewElement.style.border = '1px solid #ccc';
                } else {
                    previewElement.style.border = 'none';
                }
            }
        }
        
        async function loadServiceData() {
            currentService = document.getElementById('service-selector').value;
            
            const serviceTitle = await loadSyncedData(currentService + 'Title');
            if (serviceTitle) {
                document.getElementById('service-title').value = serviceTitle;
                document.getElementById('service-desc').value = await loadSyncedData(currentService + 'Desc') || '';
                
                // Charger les caractéristiques
                const features = await loadSyncedJSON(currentService + 'Features') || [];
                const featuresContainer = document.getElementById('service-features-container');
                featuresContainer.innerHTML = '';
                
                features.forEach((feature, index) => {
                    const featureElement = document.createElement('div');
                    featureElement.className = 'admin-form-group';
                    featureElement.innerHTML = `
                        <div style="display: flex; align-items: center;">
                            <input type="text" value="${feature}" 
                                oninput="updateFeature(${index}, this.value)" 
                                style="flex: 1; margin-right: 10px;">
                            <button type="button" class="admin-btn-danger" onclick="removeFeature(${index})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                    featuresContainer.appendChild(featureElement);
                });
                
                // Charger les images
                if (serviceImages[currentService]) {
                    const mainImagePreview = document.getElementById('service-main-image-preview');
                    if (serviceImages[currentService].main) {
                        mainImagePreview.innerHTML = `<img src="${serviceImages[currentService].main}" alt="Preview" style="max-width: 100%; max-height: 100%;">`;
                    } else {
                        mainImagePreview.innerHTML = '<div class="image-placeholder">Aucune image</div>';
                    }
                    
                    const galleryContainer = document.getElementById('service-gallery-images');
                    galleryContainer.innerHTML = '';
                    
                    serviceImages[currentService].gallery.forEach((image, index) => {
                        const galleryItem = document.createElement('div');
                        galleryItem.className = 'service-image-item';
                        galleryItem.innerHTML = `
                            <div class="service-image-preview">
                                ${image ? `<img src="${image}" alt="Preview">` : '<div class="image-placeholder">Aucune image</div>'}
                            </div>
                            <div class="service-image-actions">
                                <label class="admin-btn-secondary" style="margin: 0; cursor: pointer;">
                                    <i class="fas fa-upload"></i> Changer
                                    <input type="file" accept="image/*" style="display: none;" 
                                        onchange="updateGalleryImage(${index}, this)">
                                </label>
                                <button type="button" class="admin-btn-danger" onclick="removeGalleryImage(${index})">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        `;
                        galleryContainer.appendChild(galleryItem);
                    });
                    
                    const addButton = document.getElementById('add-gallery-image-btn');
                    const galleryCount = serviceImages[currentService].gallery.filter(img => img !== '').length;
                    addButton.disabled = galleryCount >= 4;
                }
            }
        }
        
        async function addFeature() {
            const features = await loadSyncedJSON(currentService + 'Features') || [];
            features.push('Nouvelle caractéristique');
            await saveSyncedJSON(currentService + 'Features', features);
            loadServiceData();
        }
        
        async function updateFeature(index, value) {
            const features = await loadSyncedJSON(currentService + 'Features') || [];
            features[index] = value;
            await saveSyncedJSON(currentService + 'Features', features);
        }
        
        async function removeFeature(index) {
            const features = await loadSyncedJSON(currentService + 'Features') || [];
            features.splice(index, 1);
            await saveSyncedJSON(currentService + 'Features', features);
            loadServiceData();
        }
        
        function previewMainImage(input) {
            const file = input.files[0];
            if (file) {
                if (!file.type.match('image.*')) {
                    alert("Veuillez sélectionner un fichier image valide (JPG, PNG, etc.)");
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = async function(e) {
                    serviceImages[currentService].main = e.target.result;
                    await saveSyncedJSON('serviceImages', serviceImages);
                    
                    const preview = document.getElementById('service-main-image-preview');
                    preview.innerHTML = `<img src="${e.target.result}" alt="Preview" style="max-width: 100%; max-height: 100%;">`;
                };
                reader.readAsDataURL(file);
            }
        }
        
        function addGalleryImage() {
            const gallery = serviceImages[currentService].gallery;
            const imageCount = gallery.filter(img => img !== '').length;
            if (imageCount >= 4) {
                alert("Vous avez atteint le nombre maximum d'images (4) pour cette galerie.");
                return;
            }
            
            const emptyIndex = gallery.findIndex(img => img === '');
            if (emptyIndex !== -1) {
                const galleryItems = document.querySelectorAll('.service-image-item');
                if (galleryItems[emptyIndex]) {
                    const fileInput = galleryItems[emptyIndex].querySelector('input[type="file"]');
                    fileInput.click();
                }
            }
        }
        
        async function updateGalleryImage(index, input) {
            const file = input.files[0];
            if (file) {
                if (!file.type.match('image.*')) {
                    alert("Veuillez sélectionner un fichier image valide (JPG, PNG, etc.)");
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = async function(e) {
                    serviceImages[currentService].gallery[index] = e.target.result;
                    await saveSyncedJSON('serviceImages', serviceImages);
                    loadServiceData();
                };
                reader.readAsDataURL(file);
            }
        }
        
        async function removeGalleryImage(index) {
            serviceImages[currentService].gallery[index] = '';
            await saveSyncedJSON('serviceImages', serviceImages);
            loadServiceData();
        }
        
        async function saveServiceData() {
            const title = document.getElementById('service-title').value;
            const description = document.getElementById('service-desc').value;
            
            // Sauvegarder avec synchronisation
            await saveSyncedData(currentService + 'Title', title);
            await saveSyncedData(currentService + 'Desc', description);
            
            // Sauvegarder les caractéristiques
            const features = [];
            document.querySelectorAll('#service-features-container input').forEach(input => {
                features.push(input.value);
            });
            await saveSyncedJSON(currentService + 'Features', features);
            
            await saveSyncedJSON('serviceImages', serviceImages);
            
            // Mettre à jour l'affichage sur le site
            document.getElementById(currentService + '-title').textContent = title;
            document.getElementById(currentService + '-desc').textContent = description;
            
            if (serviceImages[currentService].main) {
                document.getElementById(currentService + '-main-image').src = serviceImages[currentService].main;
            }
            
            const galleryContainer = document.getElementById(currentService + '-gallery');
            if (galleryContainer && serviceImages[currentService]) {
                galleryContainer.innerHTML = '';
                serviceImages[currentService].gallery.forEach(image => {
                    if (image) {
                        const galleryItem = document.createElement('div');
                        galleryItem.className = 'gallery-item';
                        galleryItem.innerHTML = `<img src="${image}" alt="Image du service">`;
                        galleryContainer.appendChild(galleryItem);
                    }
                });
            }
            
            const featuresContainer = document.getElementById(currentService + '-features');
            if (featuresContainer) {
                featuresContainer.innerHTML = '';
                features.forEach(feature => {
                    const li = document.createElement('li');
                    li.textContent = feature;
                    featuresContainer.appendChild(li);
                });
            }
            
            const detailFeaturesContainer = document.getElementById(currentService + '-detail-features');
            if (detailFeaturesContainer) {
                detailFeaturesContainer.innerHTML = '';
                features.forEach(feature => {
                    const li = document.createElement('li');
                    li.textContent = feature;
                    detailFeaturesContainer.appendChild(li);
                });
            }
            
            alert("Service enregistré et synchronisé avec succès!");
        }
        
        async function addReport() {
            const title = document.getElementById('report-title').value;
            const date = document.getElementById('report-date').value;
            const content = document.getElementById('report-content').value;
            
            if (!title || !date || !content) {
                alert("Veuillez remplir tous les champs obligatoires.");
                return;
            }
            
            const reportId = 'report_' + Date.now();
            const reportImagePreview = document.getElementById('reportImagePreview');
            const image = reportImagePreview.querySelector('img') ? reportImagePreview.querySelector('img').src : '';
            
            const reports = await loadSyncedJSON('reports') || [];
            reports.push({
                id: reportId,
                title,
                date,
                content,
                image
            });
            
            await saveSyncedJSON('reports', reports);
            loadReports();
            
            document.getElementById('report-title').value = '';
            document.getElementById('report-date').value = '';
            document.getElementById('report-content').value = '';
            document.getElementById('reportImagePreview').innerHTML = '';
            
            alert("Rapport ajouté et synchronisé avec succès!");
        }
        
        async function loadReports() {
            const reports = await loadSyncedJSON('reports') || [];
            const reportsContainer = document.getElementById('existing-reports');
            const reportsGrid = document.getElementById('reports-grid');
            
            reports.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            if (reportsContainer) {
                reportsContainer.innerHTML = '';
                
                reports.forEach(report => {
                    const reportItem = document.createElement('div');
                    reportItem.className = 'report-item';
                    reportItem.innerHTML = `
                        <strong>${report.title}</strong> (${new Date(report.date).toLocaleDateString('fr-FR')})
                        <button class="admin-btn" style="padding: 5px 10px; margin-left: 10px;" onclick="editReport('${report.id}')">Modifier</button>
                        <button class="admin-btn-danger" style="padding: 5px 10px; margin-left: 10px;" onclick="deleteReport('${report.id}')">Supprimer</button>
                    `;
                    reportsContainer.appendChild(reportItem);
                });
            }
            
            if (reportsGrid) {
                reportsGrid.innerHTML = '';
                
                reports.slice(0, 6).forEach(report => {
                    const reportCard = document.createElement('div');
                    reportCard.className = 'report-card';
                    reportCard.innerHTML = `
                        ${report.image ? `
                        <div class="report-image">
                            <img src="${report.image}" alt="${report.title}">
                        </div>
                        ` : ''}
                        <div class="report-content">
                            <div class="report-date">${new Date(report.date).toLocaleDateString('fr-FR')}</div>
                            <h3 class="report-title">${report.title}</h3>
                            <p class="report-excerpt">${report.content.substring(0, 100)}...</p>
                            <a href="#" class="read-more" onclick="openModal('${report.id}'); return false;">
                                Lire la suite <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    `;
                    reportsGrid.appendChild(reportCard);
                });
            }
        }
        
        async function editReport(reportId) {
            const reports = await loadSyncedJSON('reports') || [];
            const report = reports.find(r => r.id === reportId);
            
            if (report) {
                document.getElementById('report-title').value = report.title;
                document.getElementById('report-date').value = report.date;
                document.getElementById('report-content').value = report.content;
                
                const reportImagePreview = document.getElementById('reportImagePreview');
                if (report.image) {
                    reportImagePreview.innerHTML = `<img src="${report.image}" alt="Preview" style="max-width: 100%; max-height: 100%;">`;
                } else {
                    reportImagePreview.innerHTML = '';
                }
                
                deleteReport(reportId, false);
            }
        }
        
        async function deleteReport(reportId, showAlert = true) {
            const reports = await loadSyncedJSON('reports') || [];
            const updatedReports = reports.filter(r => r.id !== reportId);
            await saveSyncedJSON('reports', updatedReports);
            loadReports();
            
            if (showAlert) {
                alert("Rapport supprimé avec succès!");
            }
        }
        
        async function saveContent() {
            const heroTitle = document.getElementById('hero-title').value;
            const heroText = document.getElementById('hero-text').value;
            const commercialTitle = document.getElementById('commercial-title').value;
            const commercialText = document.getElementById('commercial-text').value;
            const commercialText2 = document.getElementById('commercial-text-2').value;
            const aboutTitle = document.getElementById('about-title').value;
            const aboutText1 = document.getElementById('about-text-1').value;
            const aboutText2 = document.getElementById('about-text-2').value;
            const aboutValuesTitle = document.getElementById('about-values-title').value;
            const reportsDescription = document.getElementById('reports-description').value;
            
            // Valeurs
            const valueTitle1 = document.getElementById('value-title-1').value;
            const valueDesc1 = document.getElementById('value-desc-1').value;
            const valueTitle2 = document.getElementById('value-title-2').value;
            const valueDesc2 = document.getElementById('value-desc-2').value;
            const valueTitle3 = document.getElementById('value-title-3').value;
            const valueDesc3 = document.getElementById('value-desc-3').value;
            const valueTitle4 = document.getElementById('value-title-4').value;
            const valueDesc4 = document.getElementById('value-desc-4').value;
            
            // Sauvegarder avec synchronisation
            await saveSyncedData('heroTitle', heroTitle);
            await saveSyncedData('heroText', heroText);
            await saveSyncedData('commercialTitle', commercialTitle);
            await saveSyncedData('commercialText', commercialText);
            await saveSyncedData('commercialText2', commercialText2);
            await saveSyncedData('aboutTitle', aboutTitle);
            await saveSyncedData('aboutText1', aboutText1);
            await saveSyncedData('aboutText2', aboutText2);
            await saveSyncedData('aboutValuesTitle', aboutValuesTitle);
            await saveSyncedData('reportsDescription', reportsDescription);
            
            // Valeurs
            await saveSyncedData('valueTitle1', valueTitle1);
            await saveSyncedData('valueDesc1', valueDesc1);
            await saveSyncedData('valueTitle2', valueTitle2);
            await saveSyncedData('valueDesc2', valueDesc2);
            await saveSyncedData('valueTitle3', valueTitle3);
            await saveSyncedData('valueDesc3', valueDesc3);
            await saveSyncedData('valueTitle4', valueTitle4);
            await saveSyncedData('valueDesc4', valueDesc4);
            
            // Mettre à jour le contenu de la page en direct
            document.getElementById('hero-main-title').textContent = heroTitle;
            document.getElementById('hero-subtitle').textContent = heroText;
            document.getElementById('commercial-title').textContent = commercialTitle;
            document.getElementById('commercial-text').innerHTML = commercialText;
            document.getElementById('commercial-text-2').innerHTML = commercialText2;
            document.getElementById('about-title').textContent = aboutTitle;
            document.getElementById('about-text-1').textContent = aboutText1;
            document.getElementById('about-text-2').textContent = aboutText2;
            document.getElementById('about-values-title').textContent = aboutValuesTitle;
            document.getElementById('reports-description').textContent = reportsDescription;
            
            // Valeurs
            document.getElementById('value-title-1').textContent = valueTitle1;
            document.getElementById('value-desc-1').textContent = valueDesc1;
            document.getElementById('value-title-2').textContent = valueTitle2;
            document.getElementById('value-desc-2').textContent = valueDesc2;
            document.getElementById('value-title-3').textContent = valueTitle3;
            document.getElementById('value-desc-3').textContent = valueDesc3;
            document.getElementById('value-title-4').textContent = valueTitle4;
            document.getElementById('value-desc-4').textContent = valueDesc4;
            
            // Image à propos
            const aboutImageInput = document.getElementById('about-main-image');
            if (aboutImageInput.files.length > 0) {
                const reader = new FileReader();
                reader.onload = async function(e) {
                    document.getElementById('about-main-image').src = e.target.result;
                    await saveSyncedData('aboutMainImage', e.target.result);
                };
                reader.readAsDataURL(aboutImageInput.files[0]);
            }
            
            alert("Contenu enregistré et synchronisé avec succès!");
        }
        
        async function saveHeader() {
            const companyName = document.getElementById('header-company-name').value;
            const companySlogan = document.getElementById('header-company-slogan').value;
            
            await saveSyncedData('headerCompanyName', companyName);
            await saveSyncedData('headerCompanySlogan', companySlogan);
            
            document.getElementById('header-company-name').textContent = companyName;
            document.getElementById('header-company-slogan').textContent = companySlogan;
            
            const logoInput = document.getElementById('logo-upload');
            if (logoInput.files.length > 0) {
                const reader = new FileReader();
                reader.onload = async function(e) {
                    document.getElementById('logo-image').src = e.target.result;
                    await saveSyncedData('logo', e.target.result);
                };
                reader.readAsDataURL(logoInput.files[0]);
            }
            
            alert("En-tête enregistré et synchronisé avec succès!");
        }
        
        async function saveFooter() {
            const footerTitle1 = document.getElementById('footer-title-1').value;
            const footerDescription1 = document.getElementById('footer-description-1').value;
            const footerAgentsCount = document.getElementById('footer-agents-count').value;
            const footerTitle2 = document.getElementById('footer-title-2').value;
            const footerAddress = document.getElementById('footer-address').value;
            const footerPhone = document.getElementById('footer-phone').value;
            const footerEmail = document.getElementById('footer-email').value;
            const footerTitle3 = document.getElementById('footer-title-3').value;
            const footerTitle4 = document.getElementById('footer-title-4').value;
            const footerYear = document.getElementById('footer-year').value;
            
            await saveSyncedData('footerTitle1', footerTitle1);
            await saveSyncedData('footerDescription1', footerDescription1);
            await saveSyncedData('footerAgentsCount', footerAgentsCount);
            await saveSyncedData('footerTitle2', footerTitle2);
            await saveSyncedData('footerAddress', footerAddress);
            await saveSyncedData('footerPhone', footerPhone);
            await saveSyncedData('footerEmail', footerEmail);
            await saveSyncedData('footerTitle3', footerTitle3);
            await saveSyncedData('footerTitle4', footerTitle4);
            await saveSyncedData('footerYear', footerYear);
            
            document.getElementById('footer-title-1').textContent = footerTitle1;
            document.getElementById('footer-description-1').textContent = footerDescription1;
            document.getElementById('footer-agents-count').textContent = footerAgentsCount;
            document.getElementById('footer-title-2').textContent = footerTitle2;
            document.getElementById('footer-address').textContent = footerAddress;
            document.getElementById('footer-phone').textContent = footerPhone;
            document.getElementById('footer-email').textContent = footerEmail;
            document.getElementById('footer-title-3').textContent = footerTitle3;
            document.getElementById('footer-title-4').textContent = footerTitle4;
            document.getElementById('footer-year').textContent = footerYear;
            
            alert("Pied de page enregistré et synchronisé avec succès!");
        }
        
        async function saveContact() {
            const contactTitle = document.getElementById('contact-title').value;
            const contactDescription = document.getElementById('contact-description').value;
            const contactAddress = document.getElementById('contact-address').value;
            const contactPhone = document.getElementById('contact-phone').value;
            const contactEmail = document.getElementById('contact-email').value;
            const contactAvailability = document.getElementById('contact-availability').value;
            const contactAgents = document.getElementById('contact-agents').value;
            const contactFormTitle = document.getElementById('contact-form-title').value;
            
            await saveSyncedData('contactTitle', contactTitle);
            await saveSyncedData('contactDescription', contactDescription);
            await saveSyncedData('contactAddress', contactAddress);
            await saveSyncedData('contactPhone', contactPhone);
            await saveSyncedData('contactEmail', contactEmail);
            await saveSyncedData('contactAvailability', contactAvailability);
            await saveSyncedData('contactAgents', contactAgents);
            await saveSyncedData('contactFormTitle', contactFormTitle);
            
            document.getElementById('contact-title').textContent = contactTitle;
            document.getElementById('contact-description').textContent = contactDescription;
            document.getElementById('contact-address').textContent = contactAddress;
            document.getElementById('contact-phone').textContent = contactPhone;
            document.getElementById('contact-email').textContent = contactEmail;
            document.getElementById('contact-availability').textContent = contactAvailability;
            document.getElementById('contact-agents').textContent = contactAgents;
            document.getElementById('contact-form-title').textContent = contactFormTitle;
            
            alert("Informations de contact enregistrées et synchronisées avec succès!");
        }
        
        async function saveSEO() {
            const metaTitle = document.getElementById('meta-title').value;
            const metaDescription = document.getElementById('meta-description').value;
            
            await saveSyncedData('metaTitle', metaTitle);
            await saveSyncedData('metaDescription', metaDescription);
            
            document.title = metaTitle;
            
            const metaDescTag = document.querySelector('meta[name="description"]');
            if (metaDescTag) {
                metaDescTag.setAttribute('content', metaDescription);
            }
            
            alert("Paramètres SEO enregistrés avec succès!");
        }
        
        async function saveAppearance() {
            const primaryColor = document.getElementById('primary-color').value;
            const secondaryColor = document.getElementById('secondary-color').value;
            const accentColor = document.getElementById('accent-color').value;
            
            await saveSyncedData('primaryColor', primaryColor);
            await saveSyncedData('secondaryColor', secondaryColor);
            await saveSyncedData('accentColor', accentColor);
            
            document.documentElement.style.setProperty('--primary', primaryColor);
            document.documentElement.style.setProperty('--secondary', secondaryColor);
            document.documentElement.style.setProperty('--accent', accentColor);
            
            alert("Apparence enregistrée et synchronisée avec succès!");
        }
        
        function previewLogo(input) {
            const file = input.files[0];
            if (file) {
                if (!file.type.match('image.*')) {
                    alert("Veuillez sélectionner un fichier image valide (JPG, PNG, etc.)");
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = async function(e) {
                    document.getElementById('logo-image').src = e.target.result;
                    await saveSyncedData('logo', e.target.result);
                    
                    const preview = document.getElementById('logo-preview');
                    preview.innerHTML = `<img src="${e.target.result}" alt="Preview" style="max-width: 100%; max-height: 100%;">`;
                };
                reader.readAsDataURL(file);
            }
        }
        
        function generateSEOSuggestions() {
            // Fonction simplifiée pour générer des suggestions SEO
            const suggestionsContainer = document.getElementById('seo-suggestions');
            suggestionsContainer.innerHTML = `
                <h4>Suggestions SEO générées</h4>
                <ul>
                    <li>✅ Votre site est bien optimisé pour les mots-clés principaux</li>
                    <li>📊 Pensez à ajouter un blog avec des articles réguliers</li>
                    <li>🔍 Optimisez les balises alt de vos images</li>
                    <li>🚀 Améliorez les temps de chargement sur mobile</li>
                </ul>
            `;
        }
        
        function previewImage(input, previewId) {
            const preview = document.getElementById(previewId);
            const file = input.files[0];
            
            if (file) {
                if (!file.type.match('image.*')) {
                    alert("Veuillez sélectionner un fichier image valide (JPG, PNG, etc.)");
                    preview.innerHTML = '';
                    return;
                }
                
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    preview.innerHTML = `<img src="${e.target.result}" alt="Preview" style="max-width: 100%; max-height: 100%;">`;
                }
                
                reader.readAsDataURL(file);
            } else {
                preview.innerHTML = '';
            }
        }
        
        function toggleLegalMentions() {
            const legalMentions = document.getElementById('legalMentions');
            legalMentions.classList.toggle('expanded');
            
            const toggleButton = document.querySelector('.legal-toggle');
            if (legalMentions.classList.contains('expanded')) {
                toggleButton.textContent = 'Masquer les mentions légales';
            } else {
                toggleButton.textContent = 'Voir les mentions légales';
            }
        }

        // Gestion du formulaire de contact
        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const messageElement = document.getElementById('form-message');
            messageElement.style.display = 'none';
            
            const submitBtn = document.getElementById('submit-btn');
            const btnText = document.getElementById('btn-text');
            const btnLoading = document.getElementById('btn-loading');
            
            btnText.textContent = 'Envoi en cours';
            btnLoading.style.display = 'inline-block';
            submitBtn.disabled = true;
            
            try {
                const formData = new FormData(this);
                const response = await fetch(this.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    messageElement.textContent = '✅ Votre message a été envoyé avec succès! Nous vous contacterons rapidement.';
                    messageElement.className = 'form-message form-success';
                    messageElement.style.display = 'block';
                    this.reset();
                } else {
                    throw new Error('Erreur lors de l\'envoi');
                }
            } catch (error) {
                messageElement.textContent = '❌ Une erreur s\'est produite. Veuillez nous appeler au 06 60 35 01 97';
                messageElement.className = 'form-message form-error';
                messageElement.style.display = 'block';
            } finally {
                btnText.textContent = 'Envoyer la demande';
                btnLoading.style.display = 'none';
                submitBtn.disabled = false;
                messageElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        });

        // Gestion de la confirmation après redirection
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('submission') && urlParams.get('submission') === 'success') {
            const messageElement = document.getElementById('form-message');
            messageElement.textContent = '✅ Votre message a été envoyé avec succès! Nous vous contacterons rapidement.';
            messageElement.className = 'form-message form-success';
            messageElement.style.display = 'block';
            
            setTimeout(() => {
                messageElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 500);
        }
        
        // Fermer le panel admin en cliquant à l'extérieur
        window.addEventListener('click', function(e) {
            if (e.target === document.getElementById('adminPanel')) {
                closeAdmin();
            }
            if (e.target === document.getElementById('reportModal')) {
                closeModal();
            }
        });
        
        // Animation au défilement
        window.addEventListener('scroll', function() {
            const elements = document.querySelectorAll('.service-card, .value-item, .about-image, .report-card');
            elements.forEach(element => {
                const position = element.getBoundingClientRect().top;
                const screenPosition = window.innerHeight / 1.3;
                if (position < screenPosition) {
                    element.classList.add('fade-in');
                }
            });
        });
        
        // Initialiser les données au chargement de la page
        window.addEventListener('DOMContentLoaded', async function() {
            // Initialiser le menu mobile
            initMobileMenu();
            
            // Détecter et ajuster selon l'appareil
            detectDeviceAndAdjust();
            
            // Initialiser Firebase et la synchronisation
            await initializeFirebase();
            
            // Charger les données avec la nouvelle synchronisation
            const services = ['service1', 'service2', 'service3'];
            for (const service of services) {
                const serviceTitle = await loadSyncedData(service + 'Title');
                if (serviceTitle) {
                    document.getElementById(service + '-title').textContent = serviceTitle;
                    document.getElementById(service + '-desc').textContent = await loadSyncedData(service + 'Desc') || '';
                    
                    const features = await loadSyncedJSON(service + 'Features') || [];
                    const featuresContainer = document.getElementById(service + '-features');
                    if (featuresContainer) {
                        featuresContainer.innerHTML = '';
                        features.forEach(feature => {
                            const li = document.createElement('li');
                            li.textContent = feature;
                            featuresContainer.appendChild(li);
                        });
                    }
                }
            }
            
            // Charger le contenu principal avec synchronisation
            const heroTitle = await loadSyncedData('heroTitle');
            if (heroTitle) {
                document.getElementById('hero-main-title').textContent = heroTitle;
                document.getElementById('hero-subtitle').textContent = await loadSyncedData('heroText') || '';
                document.getElementById('commercial-title').textContent = await loadSyncedData('commercialTitle') || '';
                document.getElementById('commercial-text').innerHTML = await loadSyncedData('commercialText') || '';
                document.getElementById('commercial-text-2').innerHTML = await loadSyncedData('commercialText2') || '';
                document.getElementById('about-title').textContent = await loadSyncedData('aboutTitle') || '';
                document.getElementById('about-text-1').textContent = await loadSyncedData('aboutText1') || '';
                document.getElementById('about-text-2').textContent = await loadSyncedData('aboutText2') || '';
                document.getElementById('about-values-title').textContent = await loadSyncedData('aboutValuesTitle') || '';
                document.getElementById('reports-description').textContent = await loadSyncedData('reportsDescription') || '';
                
                // Header
                document.getElementById('header-company-name').textContent = await loadSyncedData('headerCompanyName') || '';
                document.getElementById('header-company-slogan').textContent = await loadSyncedData('headerCompanySlogan') || '';
                
                // Footer
                document.getElementById('footer-title-1').textContent = await loadSyncedData('footerTitle1') || '';
                document.getElementById('footer-description-1').textContent = await loadSyncedData('footerDescription1') || '';
                document.getElementById('footer-agents-count').textContent = await loadSyncedData('footerAgentsCount') || '';
                document.getElementById('footer-title-2').textContent = await loadSyncedData('footerTitle2') || '';
                document.getElementById('footer-address').textContent = await loadSyncedData('footerAddress') || '';
                document.getElementById('footer-phone').textContent = await loadSyncedData('footerPhone') || '';
                document.getElementById('footer-email').textContent = await loadSyncedData('footerEmail') || '';
                document.getElementById('footer-title-3').textContent = await loadSyncedData('footerTitle3') || '';
                document.getElementById('footer-title-4').textContent = await loadSyncedData('footerTitle4') || '';
                document.getElementById('footer-year').textContent = await loadSyncedData('footerYear') || '';
                
                // Contact
                document.getElementById('contact-title').textContent = await loadSyncedData('contactTitle') || '';
                document.getElementById('contact-description').textContent = await loadSyncedData('contactDescription') || '';
                document.getElementById('contact-address').textContent = await loadSyncedData('contactAddress') || '';
                document.getElementById('contact-phone').textContent = await loadSyncedData('contactPhone') || '';
                document.getElementById('contact-email').textContent = await loadSyncedData('contactEmail') || '';
                document.getElementById('contact-availability').textContent = await loadSyncedData('contactAvailability') || '';
                document.getElementById('contact-agents').textContent = await loadSyncedData('contactAgents') || '';
                document.getElementById('contact-form-title').textContent = await loadSyncedData('contactFormTitle') || '';
                
                // Valeurs
                document.getElementById('value-title-1').textContent = await loadSyncedData('valueTitle1') || '';
                document.getElementById('value-desc-1').textContent = await loadSyncedData('valueDesc1') || '';
                document.getElementById('value-title-2').textContent = await loadSyncedData('valueTitle2') || '';
                document.getElementById('value-desc-2').textContent = await loadSyncedData('valueDesc2') || '';
                document.getElementById('value-title-3').textContent = await loadSyncedData('valueTitle3') || '';
                document.getElementById('value-desc-3').textContent = await loadSyncedData('valueDesc3') || '';
                document.getElementById('value-title-4').textContent = await loadSyncedData('valueTitle4') || '';
                document.getElementById('value-desc-4').textContent = await loadSyncedData('valueDesc4') || '';
            }
            
            // Charger les images des services
            const savedServiceImages = await loadSyncedJSON('serviceImages');
            if (savedServiceImages) {
                serviceImages = savedServiceImages;
                
                services.forEach(service => {
                    if (serviceImages[service] && serviceImages[service].main) {
                        document.getElementById(service + '-main-image').src = serviceImages[service].main;
                    }
                    
                    const galleryContainer = document.getElementById(service + '-gallery');
                    if (galleryContainer && serviceImages[service]) {
                        galleryContainer.innerHTML = '';
                        serviceImages[service].gallery.forEach(image => {
                            if (image) {
                                const galleryItem = document.createElement('div');
                                galleryItem.className = 'gallery-item';
                                galleryItem.innerHTML = `<img src="${image}" alt="Image du service">`;
                                galleryContainer.appendChild(galleryItem);
                            }
                        });
                    }
                });
            }
            
            // Charger les métadonnées SEO
            const metaTitle = await loadSyncedData('metaTitle');
            if (metaTitle) {
                document.title = metaTitle;
                const metaDescTag = document.querySelector('meta[name="description"]');
                if (metaDescTag) {
                    metaDescTag.setAttribute('content', await loadSyncedData('metaDescription') || '');
                }
            }
            
            // Charger les couleurs
            const primaryColor = await loadSyncedData('primaryColor');
            if (primaryColor) {
                document.documentElement.style.setProperty('--primary', primaryColor);
                document.documentElement.style.setProperty('--secondary', await loadSyncedData('secondaryColor') || '#000000');
                document.documentElement.style.setProperty('--accent', await loadSyncedData('accentColor') || '#ffffff');
            }
            
            // Charger le logo
            const logo = await loadSyncedData('logo');
            if (logo) {
                document.getElementById('logo-image').src = logo;
            }
            
            // Charger l'image à propos
            const aboutMainImage = await loadSyncedData('aboutMainImage');
            if (aboutMainImage) {
                document.getElementById('about-main-image').src = aboutMainImage;
            }
            
            // Charger les rapports
            loadReports();
        });
        
        // Écouter les changements de taille de fenêtre
        window.addEventListener('resize', function() {
            detectDeviceAndAdjust();
        });
    </script>
</body>
</html>
